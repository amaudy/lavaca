/*
Lavaca 1.0.1
Copyright (c) 2012 Mutual Mobile

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

Contains components from or inspired by:

Simple Reset
(c) 2011 Eric Meyer
Released to public domain

jQuery v1.7.1
(c) 2011, John Resig
Dual licensed under the MIT or GPL Version 2 licenses.

Sizzle.js
(c) 2011, The Dojo Foundation
Released under the MIT, BSD, and GPL licenses.

Backbone.js 0.9.1 and Underscore.js 1.3.1
(c) 2012, Jeremy Ashkenas, DocumentCloud Inc
Released under the MIT license.

Dust.js v0.3.0
(c) 2010, Aleksander Williams
Released under the MIT license.

Zepto.js 0.8.0
(c) 2011 Thomas Fuchs
Released under the MIT license

jMiny 0.5.0
(c) 2012 Dan Nichols
Released under the MIT license

ChildBrowser
(c) 2012 Jesse MacFadyen, Nitobi
Released under the MIT license

lz77.js
(c) 2009 Olle Törnström
Released under the MIT license

iScroll 4.1.9
(c) 2011 Matteo Spinelli
Released under the MIT license
*/
(function(d){String.prototype.trim===d&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===d&&(Array.prototype.reduce=function(f){if(this===void 0||this===null)throw new TypeError;var h=Object(this),e=h.length>>>0,b=0,i;if(typeof f!="function")throw new TypeError;if(e==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)i=arguments[1];else{do{if(b in h){i=h[b++];break}if(++b>=e)throw new TypeError;}while(1)}for(;b<e;){b in h&&
(i=f.call(d,i,h[b],b,h));b++}return i})})();
var Zepto=function(){function d(a){return"[object Function]"==C.call(a)}function f(a){return a instanceof Object}function h(a){var c,b;if("[object Object]"!==C.call(a))return!1;b=d(a.constructor)&&a.constructor.prototype;if(!b||!hasOwnProperty.call(b,"isPrototypeOf"))return!1;for(c in a);return c===j||hasOwnProperty.call(a,c)}function e(a){return a instanceof Array}function b(a){return"number"==typeof a.length}function i(a){return a.filter(function(a){return a!==j&&null!==a})}function a(a){return a.replace(/::/g,
"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(a){return a in z?z[a]:z[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function g(a,c){return c===j?k(a):k(a).filter(c)}function n(a,c,b,g){return d(c)?c.call(a,b,g):c}function l(a,c,b){var g=a%2?c:c.parentNode;g?g.insertBefore(b,!a?c.nextSibling:1==a?g.firstChild:2==a?c:null):k(b).remove()}function o(a,c){c(a);for(var b in a.childNodes)o(a.childNodes[b],c)}var j,m,k,q,p=[],t=p.slice,s=
window.document,u={},z={},A=s.defaultView.getComputedStyle,B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},E=/^\s*<(\w+|!)[^>]*>/,J=[1,3,8,9,11],x=s.createElement("table"),F=s.createElement("tr"),G={tr:s.createElement("tbody"),tbody:x,thead:x,tfoot:x,td:F,th:F,"*":s.createElement("div")},r=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,y=/^#([\w-]+)$/,K=/^[\w-]+$/,C={}.toString,v={},L,I,w=s.createElement("div");v.matches=function(a,c){if(!a||1!==a.nodeType)return!1;
var b=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(b)return b.call(a,c);var g;g=a.parentNode;(b=!g)&&(g=w).appendChild(a);g=~v.qsa(g,c).indexOf(a);b&&w.removeChild(a);return g};L=function(a){return a.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})};I=function(a){return a.filter(function(c,b){return a.indexOf(c)==b})};v.fragment=function(a,c){c===j&&(c=E.test(a)&&RegExp.$1);c in G||(c="*");var b=G[c];b.innerHTML=""+a;return k.each(t.call(b.childNodes),
function(){b.removeChild(this)})};v.Z=function(a,c){a=a||[];a.__proto__=arguments.callee.prototype;a.selector=c||"";return a};v.isZ=function(a){return a instanceof v.Z};v.init=function(a,c){if(a){if(d(a))return k(s).ready(a);if(v.isZ(a))return a;var b;if(e(a))b=i(a);else if(h(a))b=[k.extend({},a)],a=null;else if(0<=J.indexOf(a.nodeType)||a===window)b=[a],a=null;else if(E.test(a))b=v.fragment(a.trim(),RegExp.$1),a=null;else{if(c!==j)return k(c).find(a);b=v.qsa(s,a)}return v.Z(b,a)}return v.Z()};k=
function(a,c){return v.init(a,c)};k.extend=function(a){t.call(arguments,1).forEach(function(c){for(m in c)c[m]!==j&&(a[m]=c[m])});return a};v.qsa=function(a,c){var b;return a===s&&y.test(c)?(b=a.getElementById(RegExp.$1))?[b]:p:1!==a.nodeType&&9!==a.nodeType?p:t.call(H.test(c)?a.getElementsByClassName(RegExp.$1):K.test(c)?a.getElementsByTagName(c):a.querySelectorAll(c))};k.isFunction=d;k.isObject=f;k.isArray=e;k.isPlainObject=h;k.inArray=function(a,c,b){return p.indexOf.call(c,a,b)};k.trim=function(a){return a.trim()};
k.uuid=0;k.map=function(a,c){var g,e=[],d;if(b(a))for(d=0;d<a.length;d++)g=c(a[d],d),null!=g&&e.push(g);else for(d in a)g=c(a[d],d),null!=g&&e.push(g);return 0<e.length?[].concat.apply([],e):e};k.each=function(a,c){var g;if(b(a))for(g=0;g<a.length&&!1!==c.call(a[g],g,a[g]);g++);else for(g in a)if(!1===c.call(a[g],g,a[g]))break;return a};k.fn={forEach:p.forEach,reduce:p.reduce,push:p.push,indexOf:p.indexOf,concat:p.concat,map:function(a){return k.map(this,function(c,b){return a.call(c,b,c)})},slice:function(){return k(t.apply(this,
arguments))},ready:function(a){r.test(s.readyState)?a(k):s.addEventListener("DOMContentLoaded",function(){a(k)},!1);return this},get:function(a){return a===j?t.call(this):this[a]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){this.forEach(function(c,b){a.call(c,b,c)});return this},filter:function(a){return k([].filter.call(this,function(c){return v.matches(c,
a)}))},add:function(a,c){return k(I(this.concat(k(a,c))))},is:function(a){return 0<this.length&&v.matches(this[0],a)},not:function(a){var c=[];if(d(a)&&a.call!==j)this.each(function(b){a.call(this,b)||c.push(this)});else{var g="string"==typeof a?this.filter(a):b(a)&&d(a.item)?t.call(a):k(a);this.forEach(function(a){0>g.indexOf(a)&&c.push(a)})}return k(c)},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!f(a)?a:k(a)},last:function(){var a=this[this.length-
1];return a&&!f(a)?a:k(a)},find:function(a){var c;c=1==this.length?v.qsa(this[0],a):this.map(function(){return v.qsa(this,a)});return k(c)},closest:function(a,c){for(var b=this[0];b&&!v.matches(b,a);)b=b!==c&&b!==s&&b.parentNode;return k(b)},parents:function(a){for(var c=[],b=this;0<b.length;)b=k.map(b,function(a){if((a=a.parentNode)&&a!==s&&0>c.indexOf(a))return c.push(a),a});return g(c,a)},parent:function(a){return g(I(this.pluck("parentNode")),a)},children:function(a){return g(this.map(function(){return t.call(this.children)}),
a)},siblings:function(a){return g(this.map(function(a,c){return t.call(c.parentNode.children).filter(function(a){return a!==c})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==A(this,"").getPropertyValue("display")){var a=this.style,c=this.nodeName,b,g;u[c]||(b=s.createElement(c),s.body.appendChild(b),g=
A(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==g&&(g="block"),u[c]=g);a.display=u[c]}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return this.each(function(){k(this).wrapAll(k(a)[0].cloneNode(!1))})},wrapAll:function(a){this[0]&&(k(this[0]).before(a=k(a)),a.append(this));return this},unwrap:function(){this.parent().each(function(){k(this).replaceWith(k(this).children())});return this},clone:function(){return k(this.map(function(){return this.cloneNode(!0)}))},
hide:function(){return this.css("display","none")},toggle:function(a){return(a===j?"none"==this.css("display"):a)?this.show():this.hide()},prev:function(){return k(this.pluck("previousElementSibling"))},next:function(){return k(this.pluck("nextElementSibling"))},html:function(a){return a===j?0<this.length?this[0].innerHTML:null:this.each(function(c){var b=this.innerHTML;k(this).empty().append(n(this,a,c,b))})},text:function(a){return a===j?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=
a})},attr:function(a,c){var b;return"string"==typeof a&&c===j?0==this.length||1!==this[0].nodeType?j:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(b=this[0].getAttribute(a))&&a in this[0]?this[0][a]:b:this.each(function(b){if(1===this.nodeType)if(f(a))for(m in a)this.setAttribute(m,a[m]);else this.setAttribute(a,n(this,c,b,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},prop:function(a,c){return c===j?this[0]?this[0][a]:
j:this.each(function(b){this[a]=n(this,c,b,this[a])})},data:function(c,b){var g=this.attr("data-"+a(c),b);return null!==g?g:j},val:function(a){return a===j?0<this.length?this[0].value:j:this.each(function(c){this.value=n(this,a,c,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(c,b){if(b===j&&"string"==typeof c)return 0==this.length?j:
this[0].style[L(c)]||A(this[0],"").getPropertyValue(c);var g="";for(m in c)"string"==typeof c[m]&&""==c[m]?this.each(function(){this.style.removeProperty(a(m))}):g+=a(m)+":"+("number"==typeof c[m]&&!B[a(m)]?c[m]+"px":c[m])+";";"string"==typeof c&&(""==b?this.each(function(){this.style.removeProperty(a(c))}):g=a(c)+":"+("number"==typeof b&&!B[a(c)]?b+"px":b));return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(k(a)[0]):this.parent().children().indexOf(this[0])},
hasClass:function(a){return 1>this.length?!1:c(a).test(this[0].className)},addClass:function(a){return this.each(function(c){q=[];var b=this.className;n(this,a,c,b).split(/\s+/g).forEach(function(a){k(this).hasClass(a)||q.push(a)},this);q.length&&(this.className+=(b?" ":"")+q.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===j)return this.className="";q=this.className;n(this,a,b,q).split(/\s+/g).forEach(function(a){q=q.replace(c(a)," ")});this.className=q.trim()})},toggleClass:function(a,
c){return this.each(function(b){b=n(this,a,b,this.className);(c===j?!k(this).hasClass(b):c)?k(this).addClass(b):k(this).removeClass(b)})}};["width","height"].forEach(function(a){k.fn[a]=function(c){var b,g=a.replace(/./,function(a){return a[0].toUpperCase()});return c===j?this[0]==window?window["inner"+g]:this[0]==s?s.documentElement["offset"+g]:(b=this.offset())&&b[a]:this.each(function(b){var g=k(this);g.css(a,n(this,c,b,g[a]()))})}});["after","prepend","before","append"].forEach(function(a,c){k.fn[a]=
function(){var a=k.map(arguments,function(a){return f(a)?a:v.fragment(a)});if(1>a.length)return this;var b=this.length,g=1<b,d=2>c;return this.each(function(e,i){for(var f=0;f<a.length;f++){var h=a[d?a.length-f-1:f];o(h,function(a){null!=a.nodeName&&("SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type))&&window.eval.call(window,a.innerHTML)});g&&e<b-1&&(h=h.cloneNode(!0));l(c,i,h)}})};k.fn[c%2?a+"To":"insert"+(c?"Before":"After")]=function(c){k(c)[a](this);return this}});v.Z.prototype=
k.fn;v.camelize=L;v.uniq=I;k.zepto=v;return k}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);
(function(d){function f(a){return a._zid||(a._zid=l++)}function h(a,c,b,g){c=e(c);if(c.ns)var d=RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(n[f(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||d.test(a.ns))&&(!b||f(a.fn)===f(b))&&(!g||a.sel==g)})}function e(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function b(a,c,b){d.isObject(a)?d.each(a,b):a.split(/\s/).forEach(function(a){b(a,c)})}function i(a,c,g,i,l,h){var h=!!h,o=f(a),j=n[o]||(n[o]=
[]);b(c,g,function(c,b){var g=l&&l(b,c),f=g||b,n=function(c){var b=f.apply(a,[c].concat(c.data));!1===b&&c.preventDefault();return b},g=d.extend(e(c),{fn:b,proxy:n,sel:i,del:g,i:j.length});j.push(g);a.addEventListener(g.e,n,h)})}function a(a,c,g,d){var e=f(a);b(c||"",g,function(c,b){h(a,c,b,d).forEach(function(c){delete n[e][c.i];a.removeEventListener(c.e,c.proxy,!1)})})}function c(a){var c=d.extend({originalEvent:a},a);d.each(k,function(b,g){c[b]=function(){this[g]=j;return a[b].apply(a,arguments)};
c[g]=m});return c}function g(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var c=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0;c.call(this)}}}var n={},l=1,o={};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";d.event={add:i,remove:a};d.proxy=function(a,c){if(d.isFunction(a)){var b=function(){return a.apply(c,arguments)};b._zid=f(a);return b}if("string"==typeof c)return d.proxy(a[c],a);throw new TypeError("expected function");};d.fn.bind=function(a,c){return this.each(function(){i(this,
a,c)})};d.fn.unbind=function(c,b){return this.each(function(){a(this,c,b)})};d.fn.one=function(c,b){return this.each(function(g,d){i(this,c,b,null,function(c,b){return function(){var g=c.apply(d,arguments);a(d,b,c);return g}})})};var j=function(){return!0},m=function(){return!1},k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(a,b,g){var e=!1;if("blur"==b||"focus"==b)d.iswebkit?b="blur"==
b?"focusout":"focus"==b?"focusin":b:e=!0;return this.each(function(f,l){i(l,b,g,a,function(b){return function(g){var e,i=d(g.target).closest(a,l).get(0);if(i)return e=d.extend(c(g),{currentTarget:i,liveFired:l}),b.apply(i,[e].concat([].slice.call(arguments,1)))}},e)})};d.fn.undelegate=function(c,b,g){return this.each(function(){a(this,b,g,c)})};d.fn.live=function(a,c){d(document.body).delegate(this.selector,a,c);return this};d.fn.die=function(a,c){d(document.body).undelegate(this.selector,a,c);return this};
d.fn.on=function(a,c,b){return void 0==c||d.isFunction(c)?this.bind(a,c):this.delegate(c,a,b)};d.fn.off=function(a,c,b){return void 0==c||d.isFunction(c)?this.unbind(a,c):this.undelegate(c,a,b)};d.fn.trigger=function(a,c){"string"==typeof a&&(a=d.Event(a));g(a);a.data=c;return this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(a)})};d.fn.triggerHandler=function(a,b){var g,e;this.each(function(i,f){g=c("string"==typeof a?d.Event(a):a);g.data=b;g.target=f;d.each(h(f,a.type||a),function(a,
c){e=c.proxy(g);if(g.isImmediatePropagationStopped())return!1})});return e};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(a){d.fn[a]=function(c){return this.bind(a,c)}});["focus","blur"].forEach(function(a){d.fn[a]=function(c){if(c)this.bind(a,c);else if(this.length)try{this.get(0)[a]()}catch(b){}return this}});d.Event=function(a,c){var b=document.createEvent(o[a]||"Events"),
g=!0;if(c)for(var e in c)"bubbles"==e?g=!!c[e]:b[e]=c[e];b.initEvent(a,g,!0,null,null,null,null,null,null,null,null,null,null,null,null);return b}})(Zepto);
(function(d){function f(d){var e=this.os={},b=this.browser={},i=d.match(/WebKit\/([\d.]+)/),a=d.match(/(Android)\s+([\d.]+)/),c=d.match(/(iPad).*OS\s([\d_]+)/),g=!c&&d.match(/(iPhone\sOS)\s([\d_]+)/),f=d.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=f&&d.match(/TouchPad/),o=d.match(/Kindle\/([\d.]+)/),j=d.match(/Silk\/([\d._]+)/),m=d.match(/(BlackBerry).*Version\/([\d.]+)/);if(b.webkit=!!i)b.version=i[1];a&&(e.android=!0,e.version=a[2]);g&&(e.ios=e.iphone=!0,e.version=g[2].replace(/_/g,"."));c&&(e.ios=e.ipad=
!0,e.version=c[2].replace(/_/g,"."));f&&(e.webos=!0,e.version=f[2]);l&&(e.touchpad=!0);m&&(e.blackberry=!0,e.version=m[2]);o&&(e.kindle=!0,e.version=o[1]);j&&(b.silk=!0,b.version=j[1]);!j&&(e.android&&d.match(/Kindle Fire/))&&(b.silk=!0)}f.call(d,navigator.userAgent);d.__detect=f})(Zepto);
(function(d,f){var h="",e,b=window.document.createElement("div"),i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,a={};d.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(a,g){if(b.style[a+"TransitionProperty"]!==f)return h="-"+a.toLowerCase()+"-",e=g,!1});a[h+"transition-property"]=a[h+"transition-duration"]=a[h+"transition-timing-function"]=a[h+"animation-name"]=a[h+"animation-duration"]="";d.fx={off:e===f&&b.style.transitionProperty===f,cssPrefix:h,transitionEnd:e?
e+"TransitionEnd":"transitionend",animationEnd:e?e+"AnimationEnd":"animationend"};d.fn.animate=function(a,b,e,i){d.isObject(b)&&(e=b.easing,i=b.complete,b=b.duration);b&&(b/=1E3);return this.anim(a,b,e,i)};d.fn.anim=function(c,b,e,l){var o,j={},m,k=this,q,p=d.fx.transitionEnd;b===f&&(b=0.4);d.fx.off&&(b=0);if("string"==typeof c)j[h+"animation-name"]=c,j[h+"animation-duration"]=b+"s",p=d.fx.animationEnd;else{for(m in c)i.test(m)?(o||(o=[]),o.push(m+"("+c[m]+")")):j[m]=c[m];o&&(j[h+"transform"]=o.join(" "));
!d.fx.off&&"object"===typeof c&&(j[h+"transition-property"]=Object.keys(c).join(", "),j[h+"transition-duration"]=b+"s",j[h+"transition-timing-function"]=e||"linear")}q=function(c){if("undefined"!==typeof c){if(c.target!==c.currentTarget)return;d(c.target).unbind(p,arguments.callee)}d(this).css(a);l&&l.call(this)};0<b&&this.bind(p,q);setTimeout(function(){k.css(j);0>=b&&setTimeout(function(){k.each(function(){q.call(this)})},0)},0);return this};b=null})(Zepto);
(function(d){function f(a,c,b,g){if(a.global)return a=c||m,b=d.Event(b),d(a).trigger(b,g),!b.defaultPrevented}function h(a){a.global&&0===d.active++&&f(a,null,"ajaxStart")}function e(a,c){var b=c.context;if(!1===c.beforeSend.call(b,a,c)||!1===f(c,b,"ajaxBeforeSend",[a,c]))return!1;f(c,b,"ajaxSend",[a,c])}function b(c,b,g){var e=g.context;g.success.call(e,c,"success",b);f(g,e,"ajaxSuccess",[b,g,c]);a("success",b,g)}function i(c,b,g,e){var d=e.context;e.error.call(d,g,b,c);f(e,d,"ajaxError",[g,e,c]);
a(b,g,e)}function a(a,c,b){var g=b.context;b.complete.call(g,c,a);f(b,g,"ajaxComplete",[c,b]);b.global&&!--d.active&&f(b,null,"ajaxStop")}function c(){}function g(a){return a&&(a==z?"html":a==u?"json":t.test(a)?"script":s.test(a)&&"xml")||"text"}function n(a){j(a.data)&&(a.data=d.param(a.data));if(a.data&&(!a.type||"GET"==a.type.toUpperCase()))a.url=(a.url+"&"+a.data).replace(/[&?]{1,2}/,"?")}function l(a,c,b,g){var e=d.isArray(c);d.each(c,function(c,i){g&&(c=b?g:g+"["+(e?"":c)+"]");!g&&e?a.add(i.name,
i.value):(b?d.isArray(i):j(i))?l(a,i,b,c):a.add(c,i)})}var o=0,j=d.isObject,m=window.document,k,q,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,t=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,u="application/json",z="text/html",A=/^\s*$/;d.active=0;d.ajaxJSONP=function(g){var e="jsonp"+ ++o,i=m.createElement("script"),f={abort:function(){d(i).remove();e in window&&(window[e]=c);a("abort",f,g)}},l;g.error&&(i.onerror=function(){f.abort();g.error()});window[e]=function(a){clearTimeout(l);
d(i).remove();delete window[e];b(a,f,g)};n(g);i.src=g.url.replace(/=\?/,"="+e);d("head").append(i);0<g.timeout&&(l=setTimeout(function(){f.abort();a("timeout",f,g)},g.timeout));return f};d.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:u,xml:"application/xml, text/xml",html:z,text:"text/plain"},crossDomain:!1,timeout:0};d.ajax=function(a){var f=
d.extend({},a||{});for(k in d.ajaxSettings)void 0===f[k]&&(f[k]=d.ajaxSettings[k]);h(f);f.crossDomain||(f.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(f.url)&&RegExp.$2!=window.location.host);var l=f.dataType,a=/=\?/.test(f.url);if("jsonp"==l||a)return a||(f.url=(f.url+"&callback=?").replace(/[&?]{1,2}/,"?")),d.ajaxJSONP(f);f.url||(f.url=window.location.toString());n(f);var a=f.accepts[l],o={},j=/^([\w-]+:)\/\//.test(f.url)?RegExp.$1:window.location.protocol,r=d.ajaxSettings.xhr(),m;f.crossDomain||
(o["X-Requested-With"]="XMLHttpRequest");a&&(o.Accept=a,-1<a.indexOf(",")&&(a=a.split(",",2)[0]),r.overrideMimeType&&r.overrideMimeType(a));if(f.contentType||f.data&&"GET"!=f.type.toUpperCase())o["Content-Type"]=f.contentType||"application/x-www-form-urlencoded";f.headers=d.extend(o,f.headers||{});r.onreadystatechange=function(){if(r.readyState==4){clearTimeout(m);var a,c=false;if(r.status>=200&&r.status<300||r.status==304||r.status==0&&j=="file:"){l=l||g(r.getResponseHeader("content-type"));a=r.responseText;
try{l=="script"?(0,eval)(a):l=="xml"?a=r.responseXML:l=="json"&&(a=A.test(a)?null:JSON.parse(a))}catch(e){c=e}c?i(c,"parsererror",r,f):b(a,r,f)}else i(null,"error",r,f)}};r.open(f.type,f.url,"async"in f?f.async:!0);for(q in f.headers)r.setRequestHeader(q,f.headers[q]);if(!1===e(r,f))return r.abort(),!1;0<f.timeout&&(m=setTimeout(function(){r.onreadystatechange=c;r.abort();i(null,"timeout",r,f)},f.timeout));r.send(f.data?f.data:null);return r};d.get=function(a,c){return d.ajax({url:a,success:c})};
d.post=function(a,c,b,g){d.isFunction(c)&&(g=g||b,b=c,c=null);return d.ajax({type:"POST",url:a,data:c,success:b,dataType:g})};d.getJSON=function(a,c){return d.ajax({url:a,success:c,dataType:"json"})};d.fn.load=function(a,c){if(!this.length)return this;var b=this,g=a.split(/\s/),e;1<g.length&&(a=g[0],e=g[1]);d.get(a,function(a){b.html(e?d(m.createElement("div")).html(a.replace(p,"")).find(e).html():a);c&&c.call(b)});return this};var B=encodeURIComponent;d.param=function(a,c){var b=[];b.add=function(a,
c){this.push(B(a)+"="+B(c))};l(b,a,c);return b.join("&").replace("%20","+")}})(Zepto);
(function(d){d.fn.serializeArray=function(){var f=[],h;d(Array.prototype.slice.call(this.get(0).elements)).each(function(){h=d(this);var e=h.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&(!this.disabled&&"submit"!=e&&"reset"!=e&&"button"!=e&&("radio"!=e&&"checkbox"!=e||this.checked))&&f.push({name:h.attr("name"),value:h.val()})});return f};d.fn.serialize=function(){var d=[];this.serializeArray().forEach(function(h){d.push(encodeURIComponent(h.name)+"="+encodeURIComponent(h.value))});return d.join("&")};
d.fn.submit=function(f){f?this.bind("submit",f):this.length&&(f=d.Event("submit"),this.eq(0).trigger(f),f.defaultPrevented||this.get(0).submit());return this}})(Zepto);
(function(d){function f(a,c,b,e){var d=Math.abs(a-c),f=Math.abs(b-e);return d>=f?0<a-c?"Left":"Right":0<b-e?"Up":"Down"}function h(){i=null;e.last&&(e.el.trigger("longTap"),e={})}var e={},b,i;d(document).ready(function(){var a,c;d(document.body).bind("touchstart",function(g){a=Date.now();c=a-(e.last||a);e.el=d("tagName"in g.touches[0].target?g.touches[0].target:g.touches[0].target.parentNode);b&&clearTimeout(b);e.x1=g.touches[0].pageX;e.y1=g.touches[0].pageY;0<c&&250>=c&&(e.isDoubleTap=!0);e.last=
a;i=setTimeout(h,750)}).bind("touchmove",function(a){i&&clearTimeout(i);i=null;e.x2=a.touches[0].pageX;e.y2=a.touches[0].pageY}).bind("touchend",function(){i&&clearTimeout(i);i=null;e.isDoubleTap?(e.el.trigger("doubleTap"),e={}):e.x2&&30<Math.abs(e.x1-e.x2)||e.y2&&30<Math.abs(e.y1-e.y2)?(e.el.trigger("swipe")&&e.el.trigger("swipe"+f(e.x1,e.x2,e.y1,e.y2)),e={}):"last"in e&&(e.el.trigger("tap"),b=setTimeout(function(){b=null;e.el.trigger("singleTap");e={}},250))}).bind("touchcancel",function(){b&&clearTimeout(b);
i&&clearTimeout(i);i=b=null;e={}})});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(a){d.fn[a]=function(c){return this.bind(a,c)}})})(Zepto);
(function(){function d(a,c){return a instanceof c}function f(a,c){if(c)for(var b in c)a[b]=c[b];return a}function h(a,c,b){for(var g=0,e=a.length;g<e&&c.call(b,g,a[g])!==i;g++);}function e(a,c){if(a.indexOf)return-1<a.indexOf(c);for(var b=0,g=a.length;b<g;b++)if(a[b]==c)return!0;return!1}function b(a,c,b){function g(){}b||(b=c,c=a,a={});g.prototype=a.prototype;c.prototype=new g;if(b)for(var e in b)c.prototype[e]=b[e];return c}var i=!1,a="~#?@:<>+/^".split(""),c="#?@:+<".split(""),g,n=b(function(a,
c,b){this.head=a;this.tail={};this.tailIsValue=!("object"==typeof c&&!d(c,Array));this.params=f({},b);this.update(c)},{get:function(a){if(!this.tailIsValue&&this.tail.hasOwnProperty(a))return this.tail[a];if(this.params.hasOwnProperty(a))return this.params[a];if(this.head)return this.head.get(a)},set:function(a,c){if(this.tailIsValue)throw"Cannot get property on value type";this.tail[a]=c},update:function(a){if(void 0!==a)if(d(a,n))(this.tailIsValue=a.tailIsValue)?this.tail=a.tail:(this.tailIsValue&&
(this.tail={},this.tailIsValue=!1),f(this.tail,a.tail)),f(this.params,a.params);else if("object"==typeof a&&!d(a,Array)){this.tailIsValue&&(this.tail={},this.tailIsValue=!1);for(var c in a)this.set(c,a[c])}else this.tailIsValue=!0,this.tail=a}}),l=b(function(a){d(a,Array)&&(a=a.join("."));this.path=0==a.indexOf(".")?["."].concat(a.slice(1).split(".")):a.split(".")},{resolve:function(a,c){var b=new n(a,c,void 0);c?d(c,Array)?b=[].concat(c):h(this.path,function(a,c){if(c)if("."==c){if(b.tailIsValue)return b=
b.tail,i;b.parent=void 0}else{var g=b.get(c);if(void 0!==g)b=new n(b,g,void 0),b.tailIsValue&&(b=b.tail);else return b=void 0,i}else return b=b.tail,i},this):b=void 0;return b}}),o=b(function(a,c){this.tail=c;this.head=a},{getBlock:function(a){var c=this.tail.getBlock(a);if(c)return c;if(this.head)return this.head.getBlock(a)}}),j=b(function(a){this.blocks=a||{}},{render:function(){throw"Abstract";},getBlock:function(a){if(this.hasBlock(a))return this.blocks[a].asBlock()},setBlock:function(a,c){this.blocks[a]=
c},hasBlock:function(a){return void 0!==this.blocks[a]},asBlock:function(){return this}}),m=b(j,function(a,c){j.call(this,a,c);this.nodes=[].concat(c||[])},{each:function(a,c){h(this.nodes,a,c||this)},add:function(a){this.nodes[this.nodes.length]=a},last:function(){return this.nodes[this.nodes.length-1]},prepareModel:function(a,c,b){return new n(c,b,void 0)},render:function(a,c,b){var a=new o(a,this),b=this.prepareModel(a,c,b),g=[];void 0!==b&&this.each(function(e,d){g[g.length]=d.render(a,c,b)});
return g.join("")}}),k=b(j,function(a,c){j.call(this,c);a=a||"";this.buffer=[a];this.value=a},{write:function(a){if(this.buffer)this.buffer.push(a);else throw"TextNode buffer is closed";},close:function(){this.buffer&&(this.value=this.buffer.join(""),this.buffer=void 0)},render:function(){this.close();return this.value}}),q=b(j,function(a,c,b){j.call(this,c);this.context=new l(a);this.filters=[].concat(b||[])},{render:function(a,c,b){var a=new o(a,this),e=b,f="",b=this.context.resolve(c,b);void 0!==
b&&(f=d(b,j)?b.render(a,c,e):d(b,l)?b.resolve(c,e):d(b,n)?b.tail:b.toString(),this.filters?h(this.filters,function(a,c){g.filters[c]&&(f=g.filters[c](f))}):f=g.escapeHTML(f));return f}}),p=b(j,function(a,c,b,g,e){j.call(this,g);this.bodies={};e?f(this.bodies,e):this.startBody("block");this.params=f({},b);this.context=a?new l(a):void 0;this.scope=c?new l(c):void 0},{allowIter:!0,startBody:function(a){return this.currentBody=this.bodies[a]=new m},endBody:function(){this.currentBody=void 0},prepareModel:function(a,
c,b){var g={},e;if(this.params)for(e in this.params)g[e]=this.params[e].render(a,c,c);a=new n(c,b,g);a.update(b);return a},renderBody:function(a,c,b,g){var e=[],i=this.bodies[a],b=new n(b,g,this.params);this.scope?g=this.scope.resolve(b,g):this.context&&"string"!=typeof this.context&&(g=this.context.resolve(b,g));if(i)if(c=new o(c,i),this.allowIter&&d(g,Array)){var l=g.length;"else"==a&&1>l?e.push(i.render(c,b,void 0)):h(g,function(a,g){g=this.prepareModel(c,b,g);f(g.params,{"@idx":a,"@sep":a!=l-
1});e.push(i.render(c,b,g))},this)}else g=this.prepareModel(c,b,g),e.push(i.render(c,b,g));return e.join("")},chooseBodyName:function(a,c){var b=this.context.resolve(a,c);d(b,Array)&&1>b.length&&(b=!1);return b?"block":"else"},render:function(a,c,b){a=new o(a,this);c=new n(c,void 0,this.params);return this.renderBody(this.chooseBodyName(c,b),a,c,b)}}),t=b(p,function(){p.apply(this,arguments)},{operator:"?",allowIter:!1,prepareModel:function(a,c){return new n(c,c,this.params)}});b(t,function(){t.apply(this,
arguments)},{prepareModel:function(a,c,b){return this.context.resolve(c,b)?"else":"block"}});var s=b(p,function(a,c,b,g,e){p.call(this,void 0,c,b,g,e);this.context=a},{render:function(a,c,b){a=new o(a,this);c=new n(this.params,c);return g.helpers[this.context](a,c,b)}}),u=b(m,function(){m.apply(this,arguments)},{prepareModel:function(a,c,b){if(void 0!==b.get("@idx"))return b.get("@idx").toString()}}),z=b(m,function(){m.apply(this,arguments)},{prepareModel:function(a,c,b){if(b.get("@sep"))return m.prototype.prepareModel.apply(this,
arguments)}}),A=b(j,function(a,c){j.call(this,c);this.code=a;this.character=this.characters[a]},{characters:{n:"\n",r:"\r",s:" ",lb:"{",rb:"}"},render:function(){return this.character}}),B=b(j,function(a,c,b){j.call(this,b);this.include=a;this.scope=c?new l(c):void 0},{render:function(a,c,b){this.scope&&(b=this.scope.resolve(c,b));a=new o(a,this);name=this.include;d(this.include,m)&&(name=this.include.render(a,c,b));return g.load(name).render(a,c,b)}}),E=b(m,function(a,c,b){m.call(this,c,b);this.name=
a},{render:function(a,c,b){return(block=a.getBlock(this.name))?block.render(a,c,b):m.prototype.render.apply(this,arguments)}}),J=b(m,function(a,c,b){m.call(this,c,b);this.name=a},{asBlock:function(){return new m(null,this.nodes)},render:function(){return""}}),x=b(function(){},{parse:function(b){for(var b=b.replace(/(\{!.+?!\})|(^\s+)|(\s+$)/gm,""),f=[new m],i=0,l=/(\{[\~\#\?\@\:\<\>\+\/\^]?([a-zA-Z0-9_\$\.]+|"[^"]+")(\:[a-zA-Z0-9\$\.]+)?(\|[a-z]+)*?( \w+\=(("[^"]*?")|([\w\.]+)))*?\/?\})/mg,n=0,o,
j,I,w,x,D,F,G;j=l.exec(b);){I=!1;o=j.index;j=o+j[0].length;n!=o&&(n=b.slice(n,o))&&f[i].add(new k(n));n=j;w=void 0;o=b.slice(o+1,j-1);x=o.charAt(0);o=o.split(" ");if(e(a,x)){if(j=o[0].slice(1).split(":"),D=1<j.length?j[1]:void 0,j=j[0],G=o[o.length-1],(F="/"==j.slice(-1))?j=j.slice(0,-1):D&&"/"==D.slice(-1)?(D=D.slice(0,-1),F=!0):G&&"/"==G.slice(-1)&&(o[o.length-1]=G.slice(0,-1),F=!0),"~"==x?w=new A(j):"#"==x?w=g.helpers.hasOwnProperty(j)?new s(j,D,void 0):new p(j,D,void 0):"?"==x?w=new t(j,D,void 0):
"@"==x?(name=o[0].slice(1),"idx"==name?w=new u:"sep"==name&&(w=new z)):">"==x?('"'==j.charAt(0)&&(j=this.parse(j.replace(/^"|"$/g,""))),w=new B(j,D)):w="+"==x?new E(j):"<"==x?new J(j):new k("UNDEFINED:"+o.join(" ")),h(o.slice(1),function(a,c){var c=c.split("="),b=c[0],g=c.slice(1).join("="),g=g.charAt(0)!='"'?new q(g):this.parse(g.replace(/(^")|("$)|("\/$)/g,""));w.params[b]=g},this),!F)e(c,x)?(I=!0,d(w,m)?(d(w,J)&&f[i].setBlock(w.name,w),f[i].add(w),i+=1,f[i]=w):d(w,p)?(f[i].add(w),f[++i]=w.currentBody):
(o=f[i-1].last(),o.endBody(),f[i]=o.startBody(j))):"/"==x&&(I=!0,0<i&&f.splice(i--,1))}else o=o[0].split("|"),j=o.splice(1),o=o[0],w=new q(o,null,j);w&&!I&&f[i].add(w)}(b=b.slice(n))&&f[i].add(new k(b));return f[0]}}),F=b(function(a,c,b){this.name=a;this.rootNode=c;this.srcFile=b},{render:function(a,c,b){return this.rootNode.render(c,b,a)}}),G=b(function(){this.parser=new x;this.templates={};this.helpers={};this.filters={h:this.escapeHTML,j:this.escapeJS,u:this.escapeURI,uc:this.escapeURIComponent};
var a=null;this.getContextPath=function(){a||this.setContextPath(window.location.toString());return a};this.setContextPath=function(c){a=c.split("#")[0].split("?")[0].replace(/\/[^\/]*?\..[^\/]*?$/,"")}},{escapeHTML:function(a){a+="";return/[&<>\"]/.test(a)?a.replace(/&/,"&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&squot;"):a},escapeJS:function(a){return(a+"").replace("\\","\\\\").replace('"','\\"').replace("'","\\'").replace("\r","\\r").replace("\u2028","\\u2028").replace("\u2029",
"\\u2029").replace("\n","\\n").replace("\u000c","\\f").replace("\t","\\t")},escapeURI:function(a){return encodeURI(a)},escapeURIComponent:function(a){return encodeURIComponent(a)},register:function(a,c,b){this.templates[a]=new F(a,c,b)},compile:function(a,c,b){a=this.parser.parse(a);this.register(c,a,b);return a},load:function(a,c){void 0===c&&(c=a);if(this.templates.hasOwnProperty(a))return this.templates[c].rootNode;0==a.indexOf("~")&&(a=a.replace("~",this.getContextPath()));var b=new XMLHttpRequest;
b.open("GET",a,!1);b.send(null);if(200===b.status||0===b.status)return this.compile(b.responseText,c,a)},render:function(a,c,b){var g=null,e=null;try{g=this.templates[a].render(c)}catch(d){e=d}b(e,g)}});window.xdust=g=new G})();
(function(){var d=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"";/android/gi.test(navigator.appVersion);var h=/iphone|ipad/gi.test(navigator.appVersion),e=/playbook/gi.test(navigator.appVersion),b=/hp-tablet/gi.test(navigator.appVersion),i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,a="ontouchstart"in window&&!b,c=f+"Transform"in document.documentElement.style,g=h||e,n=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),l=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,o="onorientationchange"in window?"orientationchange":"resize",j=a?"touchstart":"mousedown",
m=a?"touchmove":"mousemove",k=a?"touchend":"mouseup",q=a?"touchcancel":"mouseup",p="translate"+(i?"3d(":"("),t=i?",0)":")",h=function(b,e){var d=document,i;this.wrapper="object"==typeof b?b:d.getElementById(b);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,
onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(i in e)this.options[i]=e[i];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=c?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=g&&this.options.useTransition;this.scroller.style[f+"TransitionProperty"]=this.options.useTransform?
"-"+f.toLowerCase()+"-transform":"top left";this.scroller.style[f+"TransitionDuration"]="0";this.scroller.style[f+"TransformOrigin"]="0 0";this.options.useTransition&&(this.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[f+"Transform"]=p+this.x+"px,"+this.y+"px"+t:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(o,window);this._bind(j);a||this._bind("mouseout",
this.wrapper)};h.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(c){switch(c.type){case j:if(!a&&0!==c.button)break;this._start(c);break;case m:this._move(c);break;case k:case q:this._end(c);break;case o:this._resize();break;case "mouseout":this._mouseout(c);break;case "webkitTransitionEnd":this._transitionEnd(c)}},_resize:function(){this.refresh()},_pos:function(a,c){a=this.hScroll?a:0;c=this.vScroll?c:0;this.options.useTransform?this.scroller.style[f+"Transform"]=p+a+"px,"+c+
"px"+t+" scale("+this.scale+")":(a>>=0,c>>=0,this.scroller.style.left=a+"px",this.scroller.style.top=c+"px");this.x=a;this.y=c},_start:function(c){var b=a?c.touches[0]:c,g,e;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,c);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(g=getComputedStyle(this.scroller,
null)[f+"Transform"].replace(/[^0-9-.,]/g,"").split(","),e=1*g[4],g=1*g[5]):(e=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),g=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),e!=this.x||g!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):l(this.aniTime),this.steps=[],this._pos(e,g);this.startX=this.x;this.startY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this.startTime=c.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,
c);this._bind(m);this._bind(k);this._bind(q)}},_move:function(c){var b=a?c.touches[0]:c,g=b.pageX-this.pointX,e=b.pageY-this.pointY,f=this.x+g,i=this.y+e,l=c.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,c);this.pointX=b.pageX;this.pointY=b.pageY;if(0<f||f<this.maxScrollX)f=this.options.bounce?this.x+g/2:0<=f||0<=this.maxScrollX?0:this.maxScrollX;if(0<i||i<this.maxScrollY)i=this.options.bounce?this.y+e/2:0<=i||0<=this.maxScrollY?0:this.maxScrollY;
this.distX+=g;this.distY+=e;this.absDistX=d.abs(this.distX);this.absDistY=d.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(i=this.y,e=0):this.absDistY>this.absDistX+5&&(f=this.x,g=0)),this.moved=!0,this._pos(f,i),this.dirX=0<g?-1:0>g?1:0,this.dirY=0<e?-1:0>e?1:0,300<l-this.startTime&&(this.startTime=l,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,c))},_end:function(c){if(!(a&&0!=
c.touches.length)){var b=a?c.changedTouches[0]:c,g,e,f={dist:0,time:0},i={dist:0,time:0},l=(c.timeStamp||Date.now())-this.startTime;g=this.x;e=this.y;this._unbind(m);this._unbind(k);this._unbind(q);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,c);if(this.moved){if(300>l&&this.options.momentum){f=g?this._momentum(g-this.startX,l,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):f;i=e?this._momentum(e-this.startY,l,-this.y,0>this.maxScrollY?
this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?this.wrapperH:0):i;g=this.x+f.dist;e=this.y+i.dist;if(0<this.x&&0<g||this.x<this.maxScrollX&&g<this.maxScrollX)f={dist:0,time:0};if(0<this.y&&0<e||this.y<this.maxScrollY&&e<this.maxScrollY)i={dist:0,time:0}}f.dist||i.dist?(b=d.max(d.max(f.time,i.time),10),this.scrollTo(g>>0,e>>0,b)):this._resetPos(200)}else{if(a){for(g=b.target;1!=g.nodeType;)g=g.parentNode;"SELECT"!=g.tagName&&("INPUT"!=g.tagName&&"TEXTAREA"!=g.tagName)&&(e=document.createEvent("MouseEvents"),
e.initMouseEvent("click",!0,!0,c.view,1,b.screenX,b.screenY,b.clientX,b.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),e._fake=!0,g.dispatchEvent(e))}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,c)}},_resetPos:function(a){var c=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,b=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;c==this.x&&b==this.y?this.moved&&(this.options.onScrollEnd&&this.options.onScrollEnd.call(this),
this.moved=!1):this.scrollTo(c,b,a||0)},_mouseout:function(a){var c=a.relatedTarget;if(c)for(;c=c.parentNode;)if(c==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,c=a.x,b=a.y,g=Date.now(),e,f,i;a.animating||(a.steps.length?(e=a.steps.shift(),e.x==c&&e.y==b&&(e.time=0),a.animating=!0,a.moved=!0,a.options.useTransition)?(a._transitionTime(e.time),a._pos(e.x,e.y),a.animating=
!1,e.time?a._bind("webkitTransitionEnd"):a._resetPos(0)):(i=function(){var l=Date.now(),h;if(l>=g+e.time){a._pos(e.x,e.y);a.animating=false;a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a);a._startAni()}else{l=(l-g)/e.time-1;f=d.sqrt(1-l*l);l=(e.x-c)*f+c;h=(e.y-b)*f+b;a._pos(l,h);if(a.animating)a.aniTime=n(i)}},i()):a._resetPos(400))},_transitionTime:function(a){this.scroller.style[f+"TransitionDuration"]=a+"ms"},_momentum:function(a,c,b,g,e){var c=d.abs(a)/c,f=c*c/0.0012;0<a&&f>b?(b+=e/
(6/(6.0E-4*(f/c))),c=c*b/f,f=b):0>a&&f>g&&(g+=e/(6/(6.0E-4*(f/c))),c=c*g/f,f=g);return{dist:f*(0>a?-1:1),time:c/6.0E-4>>0}},_offset:function(a){for(var c=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)c-=a.offsetLeft,b-=a.offsetTop;return{left:c,top:b}},_bind:function(a,c,b){(c||this.scroller).addEventListener(a,this,!!b)},_unbind:function(a,c,b){(c||this.scroller).removeEventListener(a,this,!!b)},destroy:function(){this.scroller.style[f+"Transform"]="";this._unbind(o,window);this._unbind(j);this._unbind(m);
this._unbind(k);this._unbind(q);this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=
this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[f+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,c,b,g){var e=a;this.stop();e.length||(e=[{x:a,y:c,time:b,relative:g}]);a=0;for(c=e.length;a<c;a++)e[a].relative&&(e[a].x=this.x-e[a].x,e[a].y=this.y-e[a].y),this.steps.push({x:e[a].x,
y:e[a].y,time:e[a].time||0});this._startAni()},scrollToElement:function(a,c){var b;if(a=a.nodeType?a:this.scroller.querySelector(a))b=this._offset(a),b.left+=this.wrapperOffsetLeft,b.top+=this.wrapperOffsetTop,b.left=0<b.left?0:b.left<this.maxScrollX?this.maxScrollX:b.left,b.top=0<b.top?0:b.top<this.maxScrollY?this.maxScrollY:b.top,c=void 0===c?d.max(2*d.abs(b.left),2*d.abs(b.top)):c,this.scrollTo(b.left,b.top,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(m);this._unbind(k);
this._unbind(q)},enable:function(){this.enabled=!0},stop:function(){l(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=h:window.iScroll=h})();
var LZ77=function(d){var d=d||{},f=d.referenceIntBase||96,h=32+f-1,e=Math.pow(f,2)-1,b=d.minStringLength||5,i=Math.pow(f,1)-1+b,a=d.defaultWindowLength||144,c=e+b,g=function(a,c){if(0<=a&&a<Math.pow(f,c)-1){for(var b="";0<a;)b=String.fromCharCode(a%f+32)+b,a=Math.floor(a/f);for(var g=c-b.length,e=0;e<g;e++)b=String.fromCharCode(32)+b;return b}throw"Reference int out of range: "+a+" (width = "+c+")";},n=function(a,c){for(var b=0,g=0;g<c;g++){var b=b*f,e=a.charCodeAt(g);if(32<=e&&e<=h)b+=e-32;else throw"Invalid char code in reference int: "+
e;}return b};this.compress=function(d,f){f=f||a;if(f>c)throw"Window length too large";for(var h="",n=0,k=d.length-b;n<k;){for(var q=Math.max(n-f,0),p=b,t=!1,s=e,u=0,z=null;q+p<n;)d.substr(q,p)==d.substr(n,p)&&p<i?(p++,t=!0):(p-=1,t&&p>u&&(s=n-q-p,u=p),p=b,q++,t=!1);u?(z="`"+g(s,2)+g(u-b,1),n+=u):(z="`"!=d.charAt(n)?d.charAt(n):"``",n++);h+=z}return h+d.slice(n).replace(/`/g,"``")};this.decompress=function(a){for(var c="",g=0;g<a.length;){var e=a.charAt(g);if("`"!=e)c+=e,g++;else if("`"!=a.charAt(g+
1)){var e=n(a.substr(g+1,2),2),d;d=a.charAt(g+3);d=n(d,1)+b;c+=c.substr(c.length-e-d,d);g+=b-1}else c+="`",g+=2}return c}};
(function(d,f){var h=0;d.$=f.noConflict?f.noConflict():f;d.resolve=function(e,b){if(!e)return null;for(var e=e.split("."),d=window,a=window,c=-1,g;g=e[++c];){a=a[g];if(!a)if(b)a=d[g]={};else return null;d=a}return a};d.extend=function(e,b,f){function a(){}"object"==typeof e?(f=e,e=Object,b=function(){}):"object"==typeof b&&(f=b,b=e,e=Object);a.prototype=e.prototype;b.prototype=new a;b.prototype.constructor=b;if(f)for(var c in f)b.prototype[c]=f[c];b.extend=function(a,c){if(typeof a=="object"){c=a;
a=function(){b.apply(this,arguments)}}d.extend(b,a,c);return a};return b};d.log=function(){window.console?console.log.apply(console,arguments):alert([].join.call(arguments," "))};d.uuid=function(){return h++};d.delay=function(e,b,d){setTimeout(function(){e.call(b)},d||0)};d.clone=function(e,b){return e?e instanceof Array?e.slice(0):e instanceof Date?new Date(e.getTime()):"object"==typeof e?d.merge(b,{},e):e.valueOf():e};d.merge=function(e,b){var f=-1,a=[].slice.call(arguments,2),c,g;"object"==typeof e&&
(a.unshift(b),b=e,e=!1);for(;c=a[++f];)for(g in c)c.hasOwnProperty(g)&&(b[g]=e?d.clone(arg[g]):c[g]);return b};f.fn.dataAttrs=function(){for(var e={},b=this[0].attributes,d=-1,a;a=b[++d];)0==a.name.indexOf("data-")&&(e[a.name.slice(5)]=a.value);return e};f.proxy||(f.proxy=function(e,b){return function(){e.apply(b,arguments)}})})(window.Lavaca=window.Lavaca||{},window.jQuery||window.Zepto||window.jMiny);
(function(d){d.indexOf=function(d,h){if(d){if(d.indexOf)return d.indexOf(h);for(var e=0,b=d.length;e<b;e++)if(d[e]===h)return e}return-1};d.contains=function(f,h){return-1<d.indexOf(f,h)};d.remove=function(f,h){var e=d.indexOf(f,h);-1<e&&f.splice(e,1);return e};d.pushIfNotExists=function(f,h){var e=d.indexOf(f,h);-1==e&&(f[e=f.length]=h);return e}})(Lavaca.resolve("Lavaca.util.ArrayUtils",!0));
(function(d){function f(a){return parseInt(a,10)}function h(a,c){for(var a=a.toLowerCase(),g=-1,e;e=c[++g];)if(a==e.toLowerCase()||a==b(e).toLowerCase())return g-1;throw'Invalid code "'+e+'"';}function e(a,c,b){for(var e=0>a?"-":"",b=b||"0",a=Math.abs(a).toString();0<c-a.length;)a=b+a;return e+a}function b(a){Lavaca.util.Translation&&(result=Lavaca.util.Translation.get(a));return result?result:a}function i(a){for(var c=[],b="",e=-1,d,f;f=a.charAt(++e);)if(d=b.charAt(0),d==f||'"'==d||"'"==d){if(b+=
f,'"'==d&&'"'==f||"'"==d&&"'"==f)c.push(b),b=""}else b&&c.push(b),b=f;b&&c.push(b);return c}d.timeOfDayDesignatorAbbr=["A","P"];d.timeOfDayDesignator=["AM","PM"];d.daysOfWeekAbbr="Sun Mon Tue Wed Thu Fri Sat".split(" ");d.daysOfWeek="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");d.monthsAbbr="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.months="January February March April May June July August September October November December".split(" ");d.fn={d:{exp:"\\d{1,2}",
i:function(a,c){c.date=f(a)},o:function(a,c){return(c?a.getUTCDate():a.getDate()).toString()}},dd:{exp:"\\d{2}",i:function(a,c){c.date=f(a)},o:function(a,c){return e(d.fn.d.o(a,c),2)}},ddd:{exp:"[a-z]{3}",i:function(){},o:function(a,c){return b(d.daysOfWeekAbbr[c?a.getUTCDay():a.getDay()])}},dddd:{exp:"[a-z]+",i:function(){},o:function(a,c){return b(d.daysOfWeek[c?a.getUTCDay():a.getDay()])}},f:{exp:"\\d",i:function(a,c){c.ms=100*f(a)},o:function(a,c,b){b=b||100;return e(Math.floor((c?a.getUTCMilliseconds():
a.getMilliseconds())/b),3-b.toString().length)}},ff:{exp:"\\d{2}",i:function(a,c){c.ms=10*f(a)},o:function(a,c){return d.fn.f.o(a,c,10)}},fff:{exp:"\\d{3}",i:function(a,c){c.ms=f(a,10)},o:function(a,c){return d.fn.f.o(a,c,1)}},h:{exp:"1?\\d",i:function(a,c,b){a=f(a)-1;b=0==(b.t||b.tt||"A").indexOf("A")?0:12;c.hour=a+b},o:function(a,c){return((c?a.getUTCHours():a.getHours())%12+1).toString()}},hh:{exp:"[0-1]\\d",i:function(a,c,b){d.fn.h.i(a,c,b)},o:function(a,c){return e(d.fn.h.o(a,c),2)}},H:{exp:"[0-2]?\\d",
i:function(a,c){c.hour=f(a)},o:function(a,c){return(c?a.getUTCHours():a.getHours()).toString()}},HH:{exp:"[0-2]\\d",i:function(a,c){c.hour=f(a)},o:function(a,c){return e(d.fn.H.o(a,c),2)}},m:{exp:"[1-5]?\\d",i:function(a,c){c.minute=f(a)},o:function(a,c){return(c?a.getUTCMinutes():a.getMinutes()).toString()}},mm:{exp:"[0-5]\\d",i:function(a,c,b){d.fn.m.i(a,c,b)},o:function(a,c){return e(d.fn.m.o(a,c),2)}},M:{exp:"1?\\d",i:function(a,c){c.month=f(a)-1},o:function(a,c){return((c?a.getUTCMonth():a.getMonth())+
1).toString()}},MM:{exp:"[0-1]\\d",i:function(a,c,b){d.fn.M.i(a,c,b)},o:function(a,c){return e(d.fn.M.o(a,c),2)}},MMM:{exp:"[a-z]{3}",i:function(a,c){c.month=h(a,d.monthsAbbr)},o:function(a,c){return b(d.monthsAbbr[c?a.getUTCMonth():a.getMonth()])}},MMMM:{exp:"[a-z]+",i:function(a,c){c.month=h(a,d.months)},o:function(a,c){return b(d.months[c?a.getUTCMonth():a.getMonth()])}},s:{exp:"[1-5]?\\d",i:function(a,c){c.second=f(a)},o:function(a,c){return(c?a.getUTCSeconds():a.getSeconds()).toString()}},ss:{exp:"[0-5]\\d",
i:function(a,c,b){d.fn.s.i(a,c,b)},o:function(a,c){return e(d.fn.s.o(a,c),2)}},t:{exp:"[a-z]",i:function(){},o:function(a,c){return b(d.timeOfDayDesignatorAbbr[Math.floor((c?a.getUTCHours():a.getHours())/12)])}},tt:{exp:"[a-z]+",i:function(){},o:function(a,c){return b(d.timeOfDayDesignator[Math.floor((c?a.getUTCHours():a.getHours())/12)])}},y:{exp:"\\d?\\d",i:function(a,c){c.year=(new Date).getFullYear()%100+f(a)},o:function(a,c){return((c?a.getUTCFullYear():a.getFullYear())%100).toString()}},yy:{exp:"\\d{2}",
i:function(a,c,b){d.fn.y.i(a,c,b)},o:function(a,c){return e(d.fn.y.o(a,c),2)}},yyy:{exp:"\\d*\\d{3}",i:function(a,c){c.year=f(a)},o:function(a,c){return e(c?a.getUTCFullYear():a.getFullYear(),3)}},yyyy:{exp:"\\d*\\d{4}",i:function(a,c,b){d.fn.yyy.i(a,c,b)},o:function(a,c){return e(c?a.getUTCFullYear():a.getFullYear(),4)}},z:{exp:"[-+]?1?\\d",i:function(a,c){c.offset=60*f(a)},o:function(a,c){var b=a.getTimezoneOffset(),d=Math.floor(Math.abs(b/60));return(0>b?"-":"+")+e(d,c)}},zz:{exp:"[-+]?[0-1]\\d",
i:function(a,c,b){d.fn.z.i(a,c,b)},o:function(a){return d.fn.z.o(a,2)}},zzz:{exp:"[-+]?[0-1]\\d:\\d{2}",i:function(a,c){var b=a.split(":");c.offset=60*f(b[0])+f(b[1])},o:function(a){var a=a.getTimezoneOffset(),c=a%60;return(0>a?"-":"+")+e((a-c)/60,2)+":"+e(Math.abs(c),2)}}};d.parse=function(a,c){for(var b=i(c),f,l=["^"],h=-1,j;j=b[++h];)(f=d.fn[j])?l.push("(",f.exp,")"):l.push("(",j.replace(/(^")|(^')|('$)|("$)/g,"").replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),")");l.push("$");f=RegExp(l.join(""));
l={year:0,month:0,date:1,hour:0,minute:0,second:0,ms:0,offset:0};h={};j=-1;var m;if(f.test(a))for(f=f.exec(a);m=b[++j];)h[m]=f[j+1];for(m in h)(b=d.fn[m])&&b.i(h[m],l,h);return new Date(d.monthsAbbr[l.month]+" "+e(l.date,2)+" "+e(l.year,4)+" "+e(l.hour,2)+":"+e(l.minute,2)+":"+e(l.second,2)+(0<l.ms?"."+e(l.ms,3):"")+(0<=l.offset?"+":"-")+e(Math.floor(Math.abs(l.offset/60)),2)+e(Math.abs(l.offset%60),2))};d.stringify=function(a,c,b){for(var c=i(c),e=-1,f=[],h,j;h=c[++e];)(j=d.fn[h])?f.push(j.o(a,b)):
f.push(h.replace(/(^")|(^')|('$)|("$)/g,""));return f.join("")}})(Lavaca.resolve("Lavaca.util.DateUtils",!0));(function(d){function f(d){var e,b,i;for(e in d){if(d.hasOwnProperty(e)&&(b=d[e]))if("function"==typeof b.dispose)b.dispose();else if(b instanceof Array)for(i=b.length-1;-1<i;i--)f(b[i]);delete d[e]}}d.Disposable=Lavaca.extend({dispose:function(){f(this)}})})(Lavaca.resolve("Lavaca.util",!0));
(function(d,f){d.Cache=f.extend({get:function(d,e){var b=this["@"+d];void 0===b&&void 0!==e&&(b=this["@"+d]=e);return void 0===b?null:b},set:function(d,e){this["@"+d]=e},add:function(d){var e=Lavaca.uuid();this.set(e,d);return e},remove:function(d){delete this["@"+d]},each:function(d,e){for(var b in this)this.hasOwnProperty(b)&&0==b.indexOf("@")&&d.call(e||this,b.slice(1),this[b])},toObject:function(){var d={};this.each(function(e,b){d[e]=b});return d},toJSON:function(){return JSON.stringify(this.toObject())}})})(Lavaca.util,
Lavaca.util.Disposable);
(function(d,f,h){d.Map=h.extend(function(e,b,d){h.call(this);this.hasLoaded=!1;this.name=e;(e=b)&&0!=e.indexOf("http")&&(e="/"==e.charAt(0)?location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+(0==e.indexOf("/")?e:"/"+e):location.toString().split("#")[0].split("?")[0].replace(/\w+\.\w+$/,"")+e);this.src=e;this.code=d;this.cache=new Lavaca.util.Cache},{is:function(e){return this.name==e},get:function(e){this.hasLoaded||(this.code?this.add(this.code):this.src&&this.load(this.src),
this.hasLoaded=!0);return this.cache.get(e)},add:function(e){for(var b in e)this.cache.set(b,e[b])},process:function(e){this.add("string"==typeof e?JSON.parse(e):e)},load:function(e){var b=this;Lavaca.net.Connectivity.ajax({async:!1,url:e,success:function(e){b.process(e)}})}});d.Map.setDefault=function(e,b){var d=b;"string"==typeof d&&(d=e.get(b));e.set("default",d)};d.Map.get=function(e,b,d,a){d||(d=b,b=a);return b&&(e=e.get(b))?e.get(d):null};d.Map.init=function(e,b,i,a){f(a||document.documentElement).find('script[type="'+
b+'"]').each(function(){var a=f(this),b=a.attr("data-src"),h=a.attr("data-name"),l=null!==a.attr("data-default"),a=a.text(),b=i(h,b,a);e.set(b.name,b);l&&d.Map.setDefault(e,h)})};d.Map.dispose=function(e){e.dispose()}})(Lavaca.util,Lavaca.$,Lavaca.util.Disposable);
(function(d,f,h){function e(b,a,c){c&&(c=JSON.parse(c));return new d.Config(b,a,c)}var b=new d.Cache;d.Config=h.extend({});d.Config.setDefault=function(e){h.setDefault(b,e)};d.Config.get=function(e,a){return h.get(b,e,a,"default")};d.Config.init=function(d){h.init(b,"text/x-config",e,d)};d.Config.dispose=function(){h.dispose(b)}})(Lavaca.util,Lavaca.$,Lavaca.util.Map);
(function(d){d.Promise=Lavaca.extend(function(d){this.thisp=d;this.resolvedQueue=[];this.rejectedQueue=[]},{succeeded:!1,failed:!1,success:function(d){d&&(this.succeeded?d.apply(this.thisp,this.resolveArgs):this.resolvedQueue.push(d));return this},error:function(d){d&&(this.failed?d.apply(this.thisp,this.rejectArgs):this.rejectedQueue.push(d));return this},always:function(d){return this.then(d,d)},then:function(d,h){return this.success(d).error(h)},resolve:function(){if(!this.succeeded&&!this.failed){this.succeeded=
!0;this.resolveArgs=[].slice.call(arguments,0);for(var d=-1,h;h=this.resolvedQueue[++d];)h.apply(this.thisp,this.resolveArgs)}return this},reject:function(){if(!this.succeeded&&!this.failed){this.failed=!0;this.rejectArgs=[].slice.call(arguments,0);for(var d=-1,h;h=this.rejectedQueue[++d];)h.apply(this.thisp,this.rejectArgs)}return this},when:function(){for(var d=this,h=[],e=-1,b=arguments.length,i;i=arguments[++e];)(function(a){i.success(function(c){h[a]=c;1>--b&&d.resolve.apply(d,h)}).error(function(){d.reject.apply(d,
arguments)})})(e);i=null;return this},resolver:function(){var d=this;return function(){d.resolve.apply(d,arguments)}},rejector:function(){var d=this;return function(){d.reject.apply(d,arguments)}}});d.Promise.when=function(f){var h=f instanceof d.Promise,e=new d.Promise(h?window:f),h=[].slice.call(arguments,h?0:1);return e.when.apply(e,h)}})(Lavaca.resolve("Lavaca.util",!0));
(function(d,f){function h(b){return b}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};d.format=function(b){var e,a=h,c,g;arguments[1]instanceof Array?(e=arguments[1],a=arguments[2]||h):e=[].slice.call(arguments,1);c=0;for(g=e.length;c<g;c++)b=b.split("{"+c+"}").join(a(e[c]+""));return b};d.escapeHTML=function(b){var b=""+b,d;for(d in e)b=b.split(d).join(e[d]);return b};d.compress=function(b){"string"!=typeof b&&(b=JSON.stringify(b));return(new f).compress(b)};d.decompress=function(b){return(new f).decompress(b)}})(Lavaca.resolve("Lavaca.util.StringUtils",
!0),window.LZ77);
(function(d,f){function h(b,f,a){a&&(a=JSON.parse(a));b=new d.Translation(b,f,a);e.get(b.language)||e.set(b.language,b);return b}var e=new d.Cache;d.Translation=f.extend(function(b,e,a){f.apply(this,arguments);var c=b=b.toLowerCase().split("_");this.language=c[0];this.locale=(this.country=c[1]||"")?this.language+"_"+this.country:this.language},{is:function(b,e){return b==this.language&&(!e||!this.country||e==this.country)}});d.Translation.setDefault=function(b){e.remove("default");f.setDefault(e,
d.Translation.forLocale(b))};d.Translation.forLocale=function(b){b=(b||"default").toLowerCase();return e.get(b)||e.get(b.split("_")[0])||e.get("default")};d.Translation.get=function(b,e){e||(e=b,b="default");var a=d.Translation.forLocale(b),c=null;a&&(c=a.get(e));null===c&&(a=d.Translation.forLocale(b.split("_")[0]))&&(c=a.get(e));null===c&&(a=d.Translation.forLocale("default"))&&(c=a.get(e));return c};d.Translation.init=function(b,i){f.init(e,"text/x-translation",h,i);d.Translation.setDefault(b)};
d.Translation.dispose=function(){f.dispose(e)}})(Lavaca.util,Lavaca.util.Map);
(function(d,f){d.EventDispatcher=f.extend({suppressEvents:!1,on:function(d,e,b){var f=this.callbacks||(this.callbacks={}),d=f[d]||(f[d]=[]);d[d.length]={fn:e,thisp:b};return this},off:function(d,e,b){var f=this.callbacks,a,c=-1,g,n;if(d){if(f)if(e){if(a=f[d])for(f=f[d]=[];d=a[++c];)if(g=d.fn==e||d.fn.fn==e,n=b&&(d.thisp==b||d.fn.thisp==b),!g||g&&(!b||!n))f[f.length]=d}else delete f[d]}else delete this.callbacks;return this},trigger:function(d,e){if(!this.suppressEvents&&this.callbacks){var b=this.callbacks[d],
f=this.createEvent(d,e),a=-1,c;if(b)for(;c=b[++a];)c.fn.apply(c.thisp||this,[f])}return this},createEvent:function(d,e){return Lavaca.merge({},e||{},{type:d,target:e&&e.target?e.target:this,currentTarget:this})}})})(Lavaca.resolve("Lavaca.events",!0),Lavaca.util.Disposable);
(function(d){var f="screenX screenY clientX clientY pageX pageY".split(" ");d.EventPoint=Lavaca.extend(function(d){this.init(d)},{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,init:function(d){for(var e=-1,b;b=f[++e];)this[b]=d?d[b]:null}})})(Lavaca.resolve("Lavaca.events",!0));(function(d){d.EventVector=Lavaca.extend(function(d,h,e){this.length=d;this.axis=h;this.compass=e},{length:0,axis:"vertical",compass:"north"})})(Lavaca.resolve("Lavaca.events",!0));
(function(d,f,h,e){function b(a,c){s[a]=function(a){c(a)}}function i(a,c){u[a]=function(a){c(a)}}function a(a,c){a.touches&&(a=a.touches[c||0]);return new e(a)}function c(a,c){for(var b={},g=-1,d;d=p[++g];)b[d]=a[d]-c[d];return new e(b)}function g(a,c){return Math.sqrt((a.screenX-c.screenX)*(a.screenX-c.screenX)+(a.screenY-c.screenY)*(a.screenY-c.screenY))}function n(a,c){var b=a.screenX-c.screenX,g=a.screenY-c.screenY;return b*b>g*g?new h(Math.abs(b),"horizontal",0<b?"east":"west"):new h(Math.abs(g),
"vertical",0<g?"south":"north")}function l(a,c){var b=-1,g;if(null!==a&&c.changedTouches){for(;g=c.changedTouches[++b];)if(g.identifier===a)return g;return null}return c}function o(a){a.preventDefault()}function j(a){if(a){for(var c in a)"function"!=typeof a[c]&&(this[c]=a[c]);this.originalEvent=a}}var m="mousedown",k="mousemove",q="mouseup",p="screenX screenY clientX clientY pageX pageY".split(" "),t=!1,s={},u={};(function(){var a=document.createElement("div");a.setAttribute("ontouchstart","return;");
a.setAttribute("ongesturestart","return;");if(t="function"==typeof a.ontouchstart)m="touchstart",k="touchmove",q="touchend"})();(function(){f(document.body).on(k,function(a){for(var c in s)s[c](a)}).on(q,function(a){for(var c in u)u[c](a)})})();j.prototype={preventDefault:function(){this.defaultPrevented=!0;this.originalEvent&&this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent&&this.originalEvent.stopPropagation()}};d.moveThreshold=4;d.tapholdDuration=800;d.isSupported=
function(){return t};d.bind=function(e,f,h,o,k,q){function p(a){var b=new j(a);if(a&&(b.startTime=t,b.elapsed=(new Date).getTime()-t,b.startPoint=r,b.lastPoint=H,b.currentPoint=y,b.hasMoved=K||(K=!(g(r,y)<=d.moveThreshold)),r&&y&&(b.startDelta=c(y,r),b.startDistance=g(y,r),b.startVector=n(y,r)),y&&H))b.lastDelta=c(y,H),b.lastDistance=g(y,H),b.lastVector=n(y,H);return b}"function"==typeof f&&(f={start:f,move:h,end:o},q=k);f&&"object"==typeof f&&(q=h,h=f,f=null);h&&"object"==typeof h&&(o=h.move,k=h.end,
h=h.start,q=o);var t,r,H,y,K=!1,C=!1,v;e.on("click",f,function(a){C&&a.preventDefault()}).on(m,f,function(c){var c=c.originalEvent,g=this,e=Lavaca.uuid();t=(new Date).getTime();r=H=y=a(c);K=false;c.changedTouches&&c.changedTouches.length?v=c.changedTouches[0].identifier:idenfifier=null;h&&h.call(q||g,p(c));C=C||c.defaultPrevented;b(e,function(c){var b=l(v,c);if(null!==b){y=a(b);if(o){c=p(c);c.currentTarget=g;o.call(q||g,c);C=C||c.defaultPrevented}H=y}});i(e,function(c){var b=l(v,c);if(null!==b){y=
a(b);if(k){c=p(c);c.currentTarget=g;k.call(q||g,c);C=C||c.defaultPrevented}delete s[e];delete u[e];g=null}})});e=null};f.fn.touch=function(a,c,b,g,e){d.bind(this,a,c,b,g,e);return this};f.fn.tap=function(a,c,b){"function"==typeof a&&(b=c,c=a,a=null);if(t)d.bind(this,a,o,null,function(a){!a.hasMoved&&c&&c.apply(b||this,arguments)});else this.on("click",a,function(){c.apply(b||this,arguments)});return this};f.fn.taphold=function(a,c,b,g){"function"==typeof a&&(g=b,b=c,c=a,a=null);b=b||d.tapholdDuration;
this.tap(a,function(a){a.elapsed>=b&&c&&c.apply(this,arguments)},g);return this};f.fn.swipe=function(a,c,b,g){"function"==typeof a&&(b=c,c=a,a=null);var b=b||{},e=b.minDistance||30,f=b.maxDistance||Number.MAX_VALUE,i=b.direction||"horizontal",l=b.timeLimit||1E3,h=b.cancel||null,n=b.move||null,j=b.end||null;d.bind(this,a,b.start||null,function(a){a.elapsed<=l&&n&&n.apply(g||this,arguments)},function(a){j&&j.apply(g||this,arguments);a.elapsed<=l&&(i==a.startVector.compass||i==a.startVector.axis)&&a.startVector.length>=
e&&a.startVector.length<=f?c&&c.apply(g||this,arguments):h&&h.apply(g||this,arguments)});return this}})(Lavaca.resolve("Lavaca.events.Touch",!0),Lavaca.$,Lavaca.events.EventVector,Lavaca.events.EventPoint);
(function(d,f){var h=!1,e=[];d.isCordova=function(){return!!f};d.register=function(b,d){function a(){window.plugins||(window.plugins={});window.plugins[b]=new d}h?a():e.push(a)};d.exec=function(b,e,a){var c=new Lavaca.util.Promise(window);f?f.exec(c.resolver(),c.rejector(),b,e,a):c.reject();return c};d.init=function(b){if(document.addEventListener)document.addEventListener("deviceready",b,!1);else $(document).on("deviceready",b)};$(document).ready(function(){for(var b=-1,d;d=e[++b];)d();h=!0;f||(document.createEvent?
(b=document.createEvent("Events"),b.initEvent("deviceready",!0,!1),document.dispatchEvent(b)):document.fireEvent&&(b=document.createEventObject(),b.eventType="deviceready",document.fireEvent("ondeviceready",b)))})})(Lavaca.resolve("Lavaca.env.Device",!0),window.Cordova||window.cordova);
(function(d,f){d.Badge=Lavaca.events.EventDispatcher.extend({get:function(){return f.exec("Badge","get")},set:function(d){var e=this;return f.exec("Badge","set",[d]).success(function(b){e.trigger("change",{count:b})})},increment:function(d){var d=d||1,e=this,b=new Lavaca.util.Promise;this.get().success(function(f){e.set(f+d).success(b.resolver()).error(b.rejector())}).error(b.rejector());return b},decrement:function(d){return self.increment(-(d||1))},clear:function(){return this.set(0)}});f.register("badge",
d.Badge)})(Lavaca.env,Lavaca.env.Device);(function(d,f){d.ChildBrowser=Lavaca.events.EventDispatcher.extend({showWebPage:function(d){return f.exec("ChildBrowser","showWebPage",[d]).error(function(){window.location.href=d})},close:function(){return f.exec("ChildBrowser","close",[])}});f.register("childBrowser",d.ChildBrowser)})(Lavaca.env,Lavaca.env.Device);
(function(d,f,h){function e(e,a,c,g,d){c===b&&(c=a,a="");g||(g=[]);var g=[].concat(g),f=-1,h=g.length,c=[c,function(a){e=="confirm"&&(a===b||a===h||h===0&&a==2)?d.reject((h||2)-1):d.resolve(a-1)},a],j=[];for("confirm"==e&&g.push(g.shift());a=g[++f];)if(j.push(a.name),a.exec)d["confirm"==e&&f==g.length-1?"error":"success"](function(a,c){return function(g){g===b&&(g=h);g==a&&c(a)}}(f,a.exec));c.push(j.join(","));navigator.notification[e].apply(navigator.notification,c)}var b;d.Notification=Lavaca.events.EventDispatcher.extend({alert:function(b,
a,c){var g=new h;f.isCordova()?e("alert",b,a,c,g):window.alert?((button=(c||[])[0])&&button.exec&&g.then(button.exec),alert(a||b),g.resolve(0)):g.reject();return g},confirm:function(b,a,c){var g=new h;f.isCordova()?e("confirm",b,a,c,g):window.confirm?(c&&g.success((c[1]||{}).exec).error((c[0]||{}).exec),confirm(a)?g.resolve(1):g.reject(0)):g.reject();return g}});f.register("notification",d.Notification)})(Lavaca.env,Lavaca.env.Device,Lavaca.util.Promise);
(function(d,f){var h={animation:["animation","animationend","keyframes"],webkitAnimation:["-webkit-animation","webkitAnimationEnd","-webkit-keyframes"],MozAnimation:["-moz-animation","animationend","-moz-keyframes"],OAnimation:["-o-animation","oAnimationEnd","-o-keyframes"],MSAnimation:["-ms-animation","MSAnimationEnd","-ms-keyframes"]},e,b,i,a;(function(){var c=document.createElement("div").style,g;for(g in h)if(g in c){c=h[g];e=g;b=c[0];a=c[1];i=c[2];break}})();d.isSupported=function(){return!!e};
d.keyframesToCSS=function(a,b){var e=Lavaca.fx.Transform,d=["@",i," ",a,"{"],f,h,m,k;for(f in b){d.push(f,"{");h=b[f];if("string"==typeof h)d.push(h);else for(m in h)k=h[m],"transform"==m&&e&&(m=e.cssProperty(),k=e.toCSS(k)),d.push(m,":",k,";");d.push("}")}d.push("}");return d.join("")};d.generateKeyframes=function(a,b){"object"==typeof a&&(b=a,a="a"+(new Date).getTime());var e=d.keyframesToCSS(a,b);f("<style>"+e+"</style>").appendTo("head");return a};d.cssProperty=function(){return b};f.fn.keyframe=
function(a,b,e,f,i,h,m){d.isSupported()&&("object"==typeof a&&(a=d.generateKeyframes(a)),"object"==typeof b&&(m=b.complete,h=b.direction,i=b.iterations,f=b.delay,e=b.easing,b=b.duration),h=h||"normal",i=i||1,f=f||0,e=e||"linear",b=b||1,"number"==typeof b&&(b+="ms"),"number"==typeof f&&(f+="ms"),m&&this.nextAnimationEnd(m),this.css(d.cssProperty(),[a,b,e,f,i,h].join(" ")));return this};f.fn.animationEnd=function(c,b){return a?this.on(a,c,b):this};f.fn.nextAnimationEnd=function(c,b){return a?this.one(a,
c,b):this}})(Lavaca.resolve("Lavaca.fx.Animation",!0),Lavaca.$);
(function(d,f){function h(a,b){var e=0==a.indexOf("rotate"),d="scale"==a,f=0==a.indexOf("translate");/(X|Y|Z)$/.test(a);var i,h=[];if("object"==typeof b)for(i in b)h.push(a+i.toUpperCase()+"("+(f?"number"==typeof b[i]?b[i]+"px":b[i]:e?"number"==typeof b[i]?b[i]+"deg":b[i]:d?"number"==typeof b[i]?b[i]+","+b[i]:b[i]:b[i])+")");else d?b="number"==typeof b?b+","+b:b:e?b="number"==typeof b?b+"deg":b:f&&(b="number"==typeof b?b+"px":b),h.push(a+"("+b+")");return h.join(" ")}var e={transform:"transform",
webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",MSTransform:"-ms-transform"},b,i,a=!1;(function(){var c=document.createElement("div").style,d;for(d in e)if(d in c){b=d;i=e[d];c[d]="translate3d(0,0,0)";a=-1<c[d].indexOf("translate3d")&&-1==navigator.userAgent.indexOf("Android");break}})();d.isSupported=function(){return!!b};d.is3dSupported=function(){return a};d.toCSS=function(a){var b=[],e;if("object"==typeof a)for(e in a)b.push(h(e,a[e]));else b.push(a);
return b.join(" ")};d.cssProperty=function(){return i};f.fn.transform=function(a,e){d.isSupported()&&(a=d.toCSS(a),e&&"object"==typeof e&&(e=("number"==typeof e.x?100*e.x+"%":e.x)+(void 0===e.y?"":" "+("number"==typeof e.y?100*e.y+"%":e.y))),this.each(function(){this.style[b]=a;e&&(this.style[b+"Origin"]=e)}));return this}})(Lavaca.resolve("Lavaca.fx.Transform",!0),Lavaca.$);
(function(d,f){var h={transition:["transition","transitionend"],webkitTransition:["-webkit-transition","webkitTransitionEnd"],MozTransition:["-moz-transition","MozTransitionEnd"],OTransition:["-o-transition","OTransitionEnd"],MSTransition:["-ms-transition","MSTransitionEnd"]},e,b,i;(function(){var a=document.createElement("div").style,c;for(c in h)if(c in a){e=c;b=h[c][0];i=h[c][1];break}})();d.isSupported=function(){return!!e};d.toCSS=function(a,b,e){var e=e||"linear",d=[],f=a instanceof Array,i;
for(i in a)f&&(i=a[i]),d.push(i+" "+b+"ms "+e);return d.join(",")};d.cssProperty=function(){return b};f.fn.transition=function(a,b,g,f){if(d.isSupported()){g instanceof Function&&(f=g,g=null);var i=d.toCSS(a,b,g);f&&this.nextTransitionEnd(f);this.each(function(){this.style[e]=i});this.css(a)}else this.css(a),f&&f.call(this[0],{});return this};f.fn.transitionEnd=function(a,b){return i?this.on(i,a,b):this};f.fn.nextTransitionEnd=function(a,b){return i?this.one(i,a,b):this}})(Lavaca.resolve("Lavaca.fx.Transition",
!0),Lavaca.$);
(function(d,f,h,e){d.Controller=f.extend(function(b,e){b instanceof d.Controller?(this.router=b.router,this.viewManager=b.viewManager):(this.router=b,this.viewManager=e)},{router:null,viewManager:null,exec:function(b,e,a){this.params=e;this.state=a;var c=new h(this),d;a&&(d=a.state,c.success(function(){document.title=a.title}));b=this[b](e,d);b instanceof h?c.when(b):c.resolve();return c},ajax:function(b){return h.when(this,Lavaca.net.Connectivity.ajax(b))},view:function(b,e,a,c){return h.when(this,this.viewManager.load(b,
e,a,c))},ajaxThenView:function(b,e,a,c,d){var f=new h(this),l=this;this.ajax(b).success(function(b){f.when(this.view(a,c,e.apply(l,arguments),d))}).error(function(){f.reject.apply(f,arguments)});return f},history:function(b,e,a){var c=!this.state;return function(){c&&Lavaca.net.History.push(b,e,a)}},translate:function(b,d){var a=Lavaca.util.Translation.get(b);a&&d&&(a=e.format.apply(null,[a].concat(d)));return a},url:function(b,d){return e.format(b,d,encodeURIComponent)},redirect:function(b,e){return this.router.unlock().exec(this.url(b,
e||[]))},ajaxThenRedirect:function(b,e){var a=new h(this),c=this;this.ajax(b).success(function(b){a.when(this.redirect(e.apply(c,arguments)))}).error(function(){a.reject.apply(a,arguments)});return a},dispose:function(){this.router=this.viewManager=null;f.prototype.dispose.apply(this,arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable,Lavaca.util.Promise,Lavaca.util.StringUtils,Lavaca.$);
(function(d,f,h,e,b){function i(a,b,e,d,f,i){a.trigger(b,{attribute:e,previous:d===c?null:d,value:f===c?a.get(e):f,messages:i||[]})}function a(a,b,c){for(var b=!!b,e=["suppressValidation","suppressEvents","suppressTracking"],d={},f=-1,i;i=e[++f];)d[i]=a[i],a[i]=b||a[i];b=c.call(a);for(f=-1;i=e[++f];)a[i]=d[i];return b}var c;d.Model=f.extend(function(a){f.call(this);this.attributes=new h;this.rules=new h;this.unsavedAttributes=[];this.flags={};a&&(this.suppressEvents=this.suppressTracking=!0,this.apply(a),
this.suppressEvents=this.suppressTracking=!1)},{suppressValidation:!1,suppressTracking:!1,get:function(a){return this.attributes.get(a)},set:function(c,e,d,f){return a(this,f,function(){var a=this.attributes.get(c),f=this.suppressValidation?[]:this.validate(c,e);if(f.length)return i(this,"invalid",c,a,e,f),!1;a!==e&&(this.attributes.set(c,e),d&&((f=this.flags[d])||(f=this.flags[d]=[]),b.contains(f,c)||f.push(c)),i(this,"change",c,a,e),!this.suppressTracking&&!Lavaca.util.ArrayUtils.contains(this.unsavedAttributes,
c)&&this.unsavedAttributes.push(c));return!0})},has:function(a){return null!==this.get(a)},idAttribute:"id",id:function(){return this.get(this.idAttribute)},isNew:function(){return null===this.id()},parse:function(a){"string"==typeof a&&(a=JSON.parse(a));return a},apply:function(b,c){a(this,c,function(){b=this.parse(b);for(var a in b)this.set(a,b[a])})},clear:function(a){if(a){var a=this.flags[a],c=-1,e,d;if(a)for(;e=a[++c];)b.remove(this.unsavedAttributes,e),(d=this.get(e))&&d.dispose&&d.dispose(),
this.set(e,null)}else this.attributes.dispose(),this.attributes=new h,this.unsavedAttributes.length=0},clone:function(){return new this.constructor(this.attributes.toObject())},addRule:function(a,b,c){this.rules.get(a,[]).push({rule:b,message:c})},validate:function(a,b){var e,d,f=-1,i;if(a){if(e=[],b=b===c?this.get(a,b):b,d=this.rules.get(a))for(;i=d[++f];)i.rule(a,b)||e.push(i.message)}else e={},this.rules.each(function(){e[a]=this.validate(a)},this);return e},onFetchSuccess:function(a){a=this.parse(a);
this.apply(a,!0);this.trigger("fetchSuccess",{response:a})},onFetchError:function(a){this.trigger("fetchError",{response:a})},fetch:function(a,b){b=Lavaca.clone(b||{});b.url=a;return e.when(this,Lavaca.net.Connectivity.ajax(b)).success(this.onFetchSuccess).error(this.onFetchError)},save:function(a,b){for(var d=new e(this),f=this.toObject(),i={},h=-1,k;k=this.unsavedAttributes[++h];)i[k]=f[k];d.success(function(a){var b=this.idAttribute;this.isNew()&&a[b]!==c&&this.set(b,a[b]);this.unsavedAttributes=
[];this.trigger("saveSuccess",{response:a})}).error(function(a){this.trigger("saveError",{response:a})});f=a.call(b||this,this,i,f);f instanceof e?d.when(f):f?d.resolve(f):d.reject(f);return d},saveToServer:function(a){return this.save(function(b,c,d){b=this.id();this.isNew()?c=d:c[this.idAttribute]=b;return e.when(this,Lavaca.net.Connectivity.ajax({url:a,cache:!1,type:"POST",data:c,dataType:"json"}))})},toObject:function(){return this.attributes.toObject()},toJSON:function(){return JSON.stringify(this.toObject())},
on:function(a,b,c,e){function d(a){if(!b||a.attribute==b)c.call(e||this,a)}"function"==typeof b&&(e=c,c=b,b=null);d.fn=c;d.thisp=e;return f.prototype.on.call(this,a,d,e)}});d.Model.SENSITIVE="sensitive"})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.events.EventDispatcher,Lavaca.util.Cache,Lavaca.util.Promise,Lavaca.util.ArrayUtils);
(function(d,f,h,e,b){function i(a,b,e,d,f){a.trigger(b,{previousIndex:e,index:d,model:f})}d.Collection=f.extend(function(a,b){f.call(this,b);this.models=[];this.changedOrder=!1;this.addedItems=[];this.removedItems=[];this.changedItems=[];a&&(this.suppressEvents=!0,this.add.apply(this,a),this.suppressEvents=!1)},{TModel:d.Model,itemsProperty:"items",clear:function(){f.prototype.clear.apply(this,arguments);for(var a=-1,b;b=this.models[++a];)this.remove(b);this.changedOrder=!1;this.addedItems.length=
this.removedItems.length=this.changedItems.length=this.models.length=0},prepare:function(a){a=a instanceof this.TModel?a:new this.TModel(a);if(-1==b.indexOf(this.models,a))a.on("change",this.onItemEvent,this).on("invalid",this.onItemEvent,this).on("saveSuccess",this.onItemEvent,this).on("saveError",this.onItemEvent,this);return a},add:function(){var a=!1,c,e,d,f,h;c=0;for(e=arguments.length;c<e;c++)if(d=arguments[c],f=d instanceof this.TModel,d=this.prepare(d),h=b.indexOf(this.models,d),!f||!b.contains(this.models,
d))this.models.push(d),this.suppressTracking||(b.remove(this.removedItems,d),b.remove(this.changedItems,d),b.pushIfNotExists(this.addedItems,d)),i(this,"addItem",null,h,d),a=!0;return a},moveTo:function(a,c){a instanceof this.TModel&&(a=b.indexOf(this.models,a));if(-1<a){var e=this.models.splice(a,1)[0];e&&(this.models.splice(c,0,e),this.suppressTracking||(this.changedOrder=!0),i(this,"moveItem",a,c,e))}},remove:function(a){if(a instanceof this.TModel){var c=b.remove(this.models,a);return-1<c?(this.suppressTracking||
(b.remove(this.addedItems,a),b.remove(this.changedItems,a),b.pushIfNotExists(this.removedItems,a)),a.off("change",this.onItemEvent).off("invalid",this.onItemEvent).off("saveSuccess",this.onItemEvent).off("saveError",this.onItemEvent),i(this,"removeItem",c,null,a),!0):!1}for(var c=this.filter(a),e=-1,d=!1;a=c[++e];)d=this.remove(a)||d;return d},filter:function(a,b){var b=void 0===b?Number.MAX_VALUE:b,e=[],d=-1,f,i,h;"function"!=typeof a&&(i=a,a=function(a,b){for(h in i)if(b.get(h)!=i[h])return!1;return!0});
for(;(f=this.models[++d])&&(!a(d,f)||!(e.push(f),1>--b)););return e},first:function(a){return this.filter(a,1)[0]||null},itemAt:function(a){return this.models[a]},count:function(){return this.models.length},each:function(a,b){for(var e=-1,d;d=this.itemAt(++e);)a.call(b||this,e,d)},onItemEvent:function(a){var c=a.target,e=b.indexOf(this.models,c);"change"==a.type?b.pushIfNotExists(this.changedItems,c):"saveSuccess"==a.type&&b.remove(this.changedItems,c);this.trigger(a.type+"Item",Lavaca.merge({},a,
{target:c,model:c,index:e,previousIndex:null}))},onFetchSuccess:function(a){a=this.parse(a);this.add.apply(this,a);this.trigger("fetchSuccess",{response:a})},saveToServer:function(a){return this.save(function(b,d,f){b=this.id();this.isNew()?d=f:d[this.idAttribute]=b;return(new e(this)).when(Lavaca.net.Connectivity.ajax({url:a,cache:!1,type:"POST",data:d,dataType:"json"}))})},toObject:function(a){for(var b=f.prototype.toObject.apply(this,arguments),e=this.itemsProperty,d=b[e]=[],i=-1,h;h=this.models[++i];)d[b[e].length]=
a&&!h.isNew()?h.id():h.toObject();return b}})})(Lavaca.mvc,Lavaca.mvc.Model,Lavaca.util.Cache,Lavaca.util.Promise,Lavaca.util.ArrayUtils);
(function(d,f){function h(e){e=decodeURIComponent(e);isNaN(e)?"true"==e.toLowerCase()?e=!0:"false"==e.toLowerCase()?e=!1:/^\d{4}-[0-1]\d-[0-3]\d$/g.test(e)&&(e=e.split("-"),e=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))):e=Number(e);return e}d.Route=f.extend(function(e,b,d,a){f.call(this);this.pattern=e;this.TController=b;this.action=d;this.params=a||{}},{matches:function(e){var b;b=this.pattern;if("/"==b)b=/^\/(\?.*)?(#.*)?$/;else{"/"==b.charAt(0)&&(b=b.slice(1));b=b.split("/");for(var d="^",
a=-1,c;c=b[++a];)d=/\{\*(.*?)\}/g.test(c)?d+"(/([^/?#]+))*?":/\{([^\/]*?)\}/g.test(c)?d+"/([^/?#]+)":d+("/"+c);b=RegExp(d+"(\\?.*)?(#.*)?$","g")}return b.test(e)},parse:function(e){var b=Lavaca.clone(this.params),d=this.pattern.slice(1),a=e.split("#"),c,f,n;b.url=e;b.route=this;a=a[1]?a[1].split("?"):a[0].split("?");if(c=a[1]){e=-1;for(c=c.split("&");f=c[++e];)f=f.split("="),n=decodeURIComponent(f[0]),void 0!==b[n]?(b[n]instanceof Array||(b[n]=[b[n]]),b[n].push(h(f[1]))):b[n]=h(f[1])}e=0;a=a[0].replace(/(^(http(s?)\:\/\/[^\/]+)?\/?)|(\/$)/,
"");f=RegExp(d.replace(/\{\*(.*?)\}/g,"(.+)").replace(/\{([^\/]*?)\}/g,"([^/]+)"));a=f.exec(a);for(c=f.exec(d);f=a[++e];)d=c[e],/\{\*(.*?)\}/g.test(d)&&(f=f.split("/")),b[d.replace(/[\{\}\*]/g,"")]=f;return b},exec:function(e,b,d,a,c){function f(){Lavaca.delay(h.dispose,h)}var h=new this.TController(b,d),e=this.parse(e),a=h.exec(this.action,Lavaca.merge(e,c),a);a.then(f,f);return a}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable);
(function(d,f,h){d.Router=f.extend(function(e){f.call(this);this.routes=[];this.viewManager=e;this.onpopstate=function(b){this.hasNavigated&&this.exec(b.url,b)};Lavaca.net.History.on("popstate",this.onpopstate,this)},{locked:!1,hasNavigated:!1,add:function(e,b,f,a){if("object"==typeof e)for(var c in e)a=e[c],a instanceof Array?(b=a[0],f=a[1],a=a[2]):(b=a.controller,f=a.action,a=a.params),this.add(c,b,f,a);else this.routes.push(new d.Route(e,b,f,a));return this},exec:function(e,b,d){if(this.locked)return(new h(this)).reject("locked");
this.locked=!0;e||(e="/");0==e.indexOf("http")&&(e=e.replace(/^http(s?):\/\/.+?/,""));var a=-1,c,f=new h(this);f.always(function(){this.unlock()});for(this.hasNavigated||f.success(function(){this.hasNavigated=!0});c=this.routes[++a];)if(c.matches(e))return f.when(c.exec(e,this,this.viewManager,b,d));return f.reject(e,b)},unlock:function(){this.locked=!1;return this},dispose:function(){this.onpopstate&&(Lavaca.net.History.off("popstate",this.onpopstate),this.onpopstate=null);f.prototype.dispose.apply(this,
arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable,Lavaca.util.Promise);
(function(d,f,h,e){d.View=h.extend(function(b,e,a,c){h.call(this);this.model=b||null;this.layer=e||0;this.eventMap=a||{};this.widgetMap=c||{};this.widgets=new Lavaca.util.Cache;this.on("rendersuccess",this.onRenderSuccess).on("rendererror",this.onRenderError)},{el:null,shell:null,template:null,className:null,wrapper:function(){return f('<div class="view"></div>')},interior:function(){return f('<div class="view-interior"></div>')},render:function(){var b=new e(this),f=Lavaca.ui.Template.get(this.template),
a=this.model;a instanceof d.Model&&(a=a.toObject());this.el&&this.el.remove();this.shell=this.wrapper();this.el=this.interior();this.shell.append(this.el);this.shell.attr("data-layer-index",this.layer);this.className&&this.shell.addClass(this.className);b.success(function(a){this.trigger("rendersuccess",{html:a})}).error(function(a){this.trigger("rendererror",{err:a})});this.shell.addClass("tmpl-"+this.template.toLowerCase().replace(/\s/g,"-"));f.render(a).success(b.resolver()).error(b.rejector());
return b},applyEvents:function(){var b=this.el,e,a,c,d,f;for(c in this.eventMap)for(d in e=this.eventMap[c],e)if(a=e[d],"object"==typeof a?(f=a,a=a.on):f=void 0,"tap"==d&&b.tap)b.tap(c,a);else if("taphold"==d&&b.taphold)b.taphold(c,a,f?f.duration:void 0);else if("swipe"==d&&b.swipe)b.swipe(c,a,f);else if("animationEnd"==d&&b.animationEnd)b.animationEnd(c,a);else if("transitionEnd"==d&&b.transitionEnd)b.transitionEnd(c,a);else b.on(d,c,a)},mapEvent:function(b,d,a){var c;if("object"==typeof b)for(b in c=
b,c)for(d in c[b])this.mapEvent(b,d,c[b][d]);else(c=this.eventMap[b])||(c=this.eventMap[b]={}),c[d]=a;return this},createWidgets:function(){var b=this.widgets,d,a,c;for(a in this.widgetMap)c=this.widgetMap[a],("self"==a?this.el:this.el.find(a)).each(function(a,e){d=new c(f(e));b.set(d.id,d)})},mapWidget:function(b,d){if("object"==typeof b){var a=b;for(b in a)this.mapWidget(b,a[b])}else this.widgetMap[b]=d;return this},insertInto:function(b){if(!this.shell.parent()[0]!=b[0]){for(var d=b.children("[data-layer-index]"),
a=-1,c;c=d[++a];)if(c=f(c),c.attr("data-layer-index")>this.index){this.shell.insertBefore(c);return}b.append(this.shell)}},enter:function(b){var d=new e(this),a,b=f(b);this.hasRendered||(a=this.render().error(function(a){d.reject(a)}));this.insertInto(b);a?d.when(a):Lavaca.delay(function(){d.resolve()});return d},exit:function(){var b=new e(this);this.shell.remove();Lavaca.delay(function(){b.resolve()});return b},onRenderSuccess:function(b){this.el.html(b.html);this.applyEvents(this.el);this.createWidgets(this.el);
this.hasRendered=!0},onRenderError:function(b){Lavaca.log(b.err)},dispose:function(){this.template=this.model=null;h.prototype.dispose.apply(this,arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.$,Lavaca.events.EventDispatcher,Lavaca.util.Promise);
(function(d,f,h,e,b,i){d.ViewManager=b.extend(function(a){b.call(this);this.el=h(a||document.body);this.views=new f.Cache;this.layers=[];this.exitingViews=[];this.enteringViews=[]},{locked:!1,load:function(a,b,d,f){function h(){i.enteringViews=[j];m.success(function(){Lavaca.delay(function(){i.enteringViews=[]})});p=i.dismissLayersAbove(f-1,j);i.layers[f]!=j?(k.when(j.enter(i.el,i.exitingViews),p).then(m.resolve),i.layers[f]=j):m.when(p)}if(this.locked)return(new e(this)).reject("locked");this.locked=
!0;var f=f||0,i=this,j=this.views.get(a),m=new e(this),k=new e(m),q=null,p=null;m.always(function(){this.locked=!1});j||(j=new b(d,f),q=j.render(),null!==a&&(this.views.set(a,j),j.cacheKey=a));q?q.then(h,m.rejector()):h();return m},dismiss:function(a){if("number"==typeof a)this.dismissLayersAbove(a-1);else if(a instanceof Lavaca.mvc.View)this.dismiss(a.layer);else{var a=h(a),b=a.attr("data-layer-index");null===b&&(a=a.closest("[data-layer-index]"),b=a.attr("data-layer-index"));null!==b&&this.dismiss(Number(b))}},
dismissLayersAbove:function(a,b){var d=new e(this),f=!1,h,o;for(h=this.layers.length-1;h>a;h--)if((o=this.layers[h])&&(!b||b!=o))(function(a){this.exitingViews.push(a);d.when(a.exit(this.el,this.enteringViews)).success(function(){Lavaca.delay(function(){i.remove(this.exitingViews,a);(!a.cacheKey||b&&b.cacheKey==a.cacheKey)&&a.dispose()},this)});this.layers[h]=null}).call(this,o),f=!0;f||d.resolve();return d},flush:function(){for(var a=-1,b;b=this.layers[++a];)b.cacheKey&&this.views.remove(b.cacheKey);
this.views.dispose();this.views=new f.Cache},dispose:function(){b.prototype.dispose.call(this)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util,Lavaca.$,Lavaca.util.Promise,Lavaca.util.Disposable,Lavaca.util.ArrayUtils);
(function(d,f,h){function e(b){b.preventDefault();b.stopPropagation()}d.Application=f.extend(function(b){Lavaca.env.Device.init(h.proxy(this.init,this));h(window).on("unload",h.proxy(this.dispose,this));if(b)this.on("init",b)},{TViewManager:Lavaca.mvc.ViewManager,TRouter:Lavaca.mvc.Router,TState:Lavaca.mvc.Model,animations:-1==navigator.userAgent.indexOf("Android"),initRoute:"/",initState:null,initParams:null,initLocale:"en_US",viewRootSelector:"#view-root",onInvalidRoute:function(b){"locked"!=b&&
plugins.notification.alert("An error occurred while trying to display this URL.")},onTapLink:function(b){var d=h(b.currentTarget),a=d.attr("href"),c=d.attr("rel");if(/^((mailto)|(tel)|(sms))\:/.test(a))return location.href=a,!0;b.preventDefault();"back"==c?Lavaca.net.History.back():"nofollow"==c?(b.stopPropagation(),plugins.childBrowser.showWebPage(a)):"cancel"==c?this.viewManager.dismiss(b.currentTarget):a&&this.router.exec(a,null,d.dataAttrs()).error(this.onInvalidRoute)},ajax:function(){return Lavaca.net.Connectivity.ajax.apply(Lavaca.net.Connectivity,
arguments)},init:function(){var b=new Lavaca.util.Promise(this);this.state=new this.TState;Lavaca.util.Config.init();this.state.set("lang",localStorage.getItem("app:lang")||this.initLocale);Lavaca.util.Translation.init(app.state.get("lang"));Lavaca.ui.Template.init();this.viewManager=new this.TViewManager(this.viewRootSelector);this.router=new this.TRouter(this.viewManager);h(document.body).tap("a",this.onTapLink,this).tap(".ui-blocker",e);this.trigger("init");this.router.hasNavigated?b.resolve():
(b.when(this.router.exec(this.initRoute,this.initState,this.initParams)),this.initState&&Lavaca.net.History.replace(this.initState.state,this.initState.title,this.initState.url));return b.then(function(){this.trigger("ready")})},dispose:function(){this.trigger("dispose");Lavaca.util.Config.dispose();Lavaca.util.Translation.dispose();Lavaca.ui.Template.dispose();f.prototype.dispose.call(this)}})})(Lavaca.mvc,Lavaca.events.EventDispatcher,Lavaca.$);
(function(d,f){function h(){throw"Not implemented";}d.Store=f.extend(function(d){this.id=d},{get:function(){h()},set:function(){h()},remove:function(){h()},all:function(){h()}})})(Lavaca.resolve("Lavaca.storage",!0),Lavaca.util.Disposable);
(function(d,f,h){function e(b){localStorage.setItem(b.id+"@manifest",JSON.stringify(b.manifest))}d.LocalStore=d.Store.extend(function(b){d.Store.call(this,b);this.manifest=JSON.parse(localStorage.getItem(this.id+"@manifest")||"[]")},{key:function(b){return this.id+":"+b},get:function(b){return(b=localStorage.getItem(this.key(b)))?JSON.parse(f.decompress(b)):null},set:function(b,d){localStorage.setItem(this.key(b),f.compress(JSON.stringify(d)));h.pushIfNotExists(this.manifest,b);e(this)},remove:function(b){localStorage.removeItem(this.key(b));
h.remove(this.manifest,b);e(this)},all:function(){for(var b=[],d=-1,a;a=this.manifest[++d];)b.push(this.get(a));return b}})})(Lavaca.resolve("Lavaca.storage"),Lavaca.util.StringUtils,Lavaca.util.ArrayUtils);
(function(d,f){function h(a){if(a==i)for(var c=-1,d;d=b[++c];)d(a)}var e="boolean"==typeof navigator.onLine,b=[],i="offline";navigator.userAgent.indexOf("Android");d.isOffline=function(){var a=Lavaca.resolve("navigator.network.connection.type");return null!==a?a==Lavaca.resolve("Connection.NONE"):e?!navigator.onLine:!1};d.ajax=function(a){var b=new Lavaca.util.Promise,e=a.success,n=a.error;a.success=function(){e&&e.apply(this,arguments);b.resolve.apply(b,arguments)};a.error=function(){n&&n.apply(this,
arguments);b.reject.apply(b,arguments)};d.isOffline()?b.reject(i):f.ajax(a);b.error(h);return b};d.registerOfflineAjaxHandler=function(a){b.push(a)}})(Lavaca.resolve("Lavaca.net.Connectivity",!0),Lavaca.$);
(function(d,f,h){function e(b,c,d,e,f,g){b.position=c;e={id:d,state:e,title:f,url:g};b.sequence[c]=e;location.hash=a=g+"#@"+d;return e}var b=!(-1<navigator.userAgent.indexOf("Android"))&&"function"==typeof h.pushState,i=!1,a,c,g=0;d.History=f.extend(function(){f.call(this);this.sequence=[];this.position=-1;this.replace({},document.title,location.pathname);var c=this;b?(this.onPopState=function(a){a.state&&(g--,c.trigger("popstate",{state:a.state.state,title:a.state.title,url:a.state.url}))},window.addEventListener("popstate",
this.onPopState,!1)):(this.onPopState=function(){var b=location.hash,d,e,f=-1;b&&(b=b.replace(/^#/,""));if(b!=a&&(a=b)){g--;for(b=b.split("#@")[1];e=c.sequence[++f];)if(e.id==b){d=e;this.position=f;break}d&&(location.hash=d.url+"#@"+d.id,document.title=d.title,c.trigger("popstate",{state:d.state,title:d.title,url:d.url}))}},window.attachEvent?window.attachEvent("onhashchange",this.onPopState):window.addEventListener("hashchange",this.onPopState,!1))},{current:function(){return this.sequence[this.position]||
null},hasHistory:function(){return 0<g},push:function(a,c,d){g++;i?(document.title=c,b?h.pushState({state:a,title:c,url:d},c,d):e(this,++this.position,Lavaca.uuid(),a,c,d)):this.replace(a,c,d)},replace:function(a,c,d){i=!0;document.title=c;if(b)h.replaceState({state:a,title:c,url:d},c,d);else{0>this.position&&(this.position=0);var f=this.current()||{id:Lavaca.uuid()};e(this,this.position,f.id,a,c,d)}},dispose:function(){this.onPopState&&(b?window.removeEventListener("popstate",this.onPopState,!1):
window.detachEvent?window.detachEvent("onhashchange",this.onPopState):window.removeEventListener("hashchange",this.onPopState,!1));f.prototype.dispose.call(this)}});d.History.init=function(a){c||(a&&d.History.overrideStandardsMode(),c=new d.History);return c};d.History.push=function(){d.History.init().push.apply(c,arguments)};d.History.replace=function(){d.History.init().replace.apply(c,arguments)};d.History.back=function(){h.back()};d.History.forward=function(){h.forward()};d.History.dispose=function(){_history&&
(c.dispose(),c=null)};d.History.on=function(){return d.History.init().on.apply(c,arguments)};d.History.off=function(){return d.History.init().off.apply(c,arguments)};d.History.overrideStandardsMode=function(){b=!1}})(Lavaca.resolve("Lavaca.net",!0),Lavaca.events.EventDispatcher,window.history);
(function(d,f,h){var e=new Lavaca.util.Cache,b=[];d.Template=h.extend({compile:function(){},render:function(){throw"Abstract";},process:function(b){this.code=b}});d.Template.get=function(b){return e.get(b)};d.Template.init=function(d){for(var a=-1,c;c=b[++a];)h.init(e,c.mime,function(a,b,d){return new c.js(a,b,d)},d)};d.Template.dispose=function(){h.dispose(e)};d.Template.render=function(b,a){var c=d.Template.get(b);if(c)return c.render(a);throw'No template named "'+b+'"';};d.Template.register=function(d,
a){b[b.length]={mime:d,js:a}}})(Lavaca.resolve("Lavaca.ui",!0),Lavaca.$,Lavaca.util.Map);
(function(d,f,h,e){d.DustTemplate=h.extend(function(b,d,a){h.apply(this,arguments);var c=this.prepareHelper(),e;for(e in c)f.helpers[e]=c[e]},{prepareHelper:function(){return{msg:this.helperMsg,include:this.helperInclude}},helperMsg:function(b,d,a){for(var c=b.tail,f=c.renderBody("block",b,d,a),h=c.params[h],f=[e.get(f,h)||""],h=-1,l;l=c.params["p"+ ++h];)f.push(l.render(b,d,a));return Lavaca.util.StringUtils.format.apply(this,f)},helperInclude:function(b,d,a){var b=b.tail.params.name.render(b,d,
a),c;h.render(b,a).then(function(a){c=a});return c},compile:function(){h.prototype.compile.call(this);f.compile(this.code,this.name)},render:function(b){var d=new Lavaca.util.Promise(this);!this.code&&this.src&&this.load(this.src);this.code&&!this.compiled&&(this.compile(),this.compiled=!0);f.render(this.name,b,function(a,b){a?d.reject(a):d.resolve(b)});return d},dispose:function(){delete f.templates[this.name];h.prototype.dispose.call(this)}});d.Template.register("text/x-dust-template",d.DustTemplate)})(Lavaca.ui,
xdust,Lavaca.ui.Template,Lavaca.util.Translation);(function(d,f,h){d.Widget=h.extend(function(d){h.call(this);this.el=d=f(d);var b=d.attr("id");b||(b="widget-"+Lavaca.uuid(),d.attr("id",b));this.id=b})})(Lavaca.resolve("Lavaca.ui",!0),Lavaca.$,Lavaca.events.EventDispatcher);
(function(d,f,h,e){function b(a){return a?null:"error_required"}function i(a,b){return a&&!RegExp(b.attr("pattern")).test(a)?"error_pattern":null}function a(a){return a&&!/^\w+@\w+(\.\w+)*\.\w+$/.test(a)?"error_email":null}function c(a){return a&&!/^\d?(\d{3})?\d{7}$/.test(a.replace(/\D/g,""))?"error_email":null}function g(a){return a&&!/^\d+(\.\d+)?$/.test(a)?"error_number":null}function n(a){return a&&!/^https?:\/\/\w+(\.\w+)*\.\w(:\d+)?\/\S+$/.test(a)?"error_url":null}d.Form=h.extend(function(){h.apply(this,
arguments);var a=this;this.pendingSync={};this._onChangeInput=function(b){a.onChangeInput(b)};this._onSubmit=function(b){a.onSubmit(b)};this.el.on("submit",this._onSubmit);this.addRule(this.defaultRules())},{onSubmit:function(a){a.preventDefault();this.validate().success(this.onSubmitSuccess).error(this.onSubmitError)},onSubmitSuccess:function(){},onSubmitError:function(){},onChangeInput:function(a){if(this.model){var b=f(a.target),a=b.attr("name"),b=b.val();this.pendingSync[a]=!0;this.model.set(a,
b);this.pendingSync[a]=!1}},onChangeModel:function(a){this.pendingSync[a.attribute]||this.set(a.attribute,a.value)},bind:function(a){this.unbind();this.model=a;a.on("change",this.onChangeModel,this);this.el.on("change",this._onChangeInput)},unbind:function(){this.model&&(this.el.off("change",this._onChangeInput),this.model.off("change",this.onchangeModel,this),this.model=null)},input:function(a){return this.el.find("input, select, textarea").filter('[name="'+a+'"]')},get:function(a){return this.input(a).val()},
set:function(a,b){this.input(a).val(b||null)},defaultRules:function(){return{"[required]":b,"[pattern]":i,"[type=email]":a,"[type=tel]":c,"[type=number]":g,"[type=url]":n}},addRule:function(a,b){this.rules||(this.rules=[]);if("object"==typeof a)for(var c in a)this.addRule(c,a[c]);else this.rules.push({selector:a,callback:b})},values:function(){for(var a=this.el.find("input, select, textarea"),b={},c=-1,d,e,g;d=a[++c];)if(d=f(d),e=d.attr("type"),!("radio"==e||"checkbox"==e)||d[0].checked)e=d.attr("name"),
g=b[e],d=d.val(),g instanceof Array?g.push(d):b[e]=void 0!==g?[g,d]:d;return b},validate:function(a,b,c){a&&"function"!=typeof a&&(c=a,a=null);c&&(c=f(c));for(var d=null,g=new e(this),h=-1,i,n,s,u,z,A,B,E,J;n=this.rules[++h];){s=c?c.filter(n.selector):this.el.find(n.selector);for(i=-1;u=s[++i];)if(u=f(u),J=u.val(),z=n.callback.call(this,J,u,this))A=u.attr("name"),d||(d={}),d[A]||(E=u.attr("id"),B=null,E&&(B=this.el.find('label[for="'+E+'"]').text()),d[A]={id:E,name:A,label:B,el:u,value:J,messages:[]}),
d[A].messages.push(z)}d?g.reject(d):g.resolve(this.values());return g.error(function(a){this.trigger("invalid",{inputs:a})}).success(function(a){this.trigger("valid",a)}).success(a).error(b)},dispose:function(){this.unbind();h.prototype.dispose.call(this)}});d.Form.withSubmit=function(a,b){return d.Form.extend({onSubmitSuccess:function(b){a.call(this,b)},onSubmitError:function(a){b.call(this,a)}})}})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget,Lavaca.util.Promise);
(function(d,f,h){d.LoadingIndicator=h.extend({className:"loading",show:function(){this.el.addClass(this.className)},hide:function(){this.el.removeClass(this.className)}});d.LoadingIndicator.init=function(e){function b(){h.hide()}var e=e||d.LoadingIndicator,h=new e(document.body);f(document).on("ajaxStart",function(){h.show()}).on("ajaxStop",b).on("ajaxError",b);return h}})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget);
(function(d,f,h,e){var b=["overflowScrolling","webkitOverflowScrolling","MozOverflowScrolling","OOverflowScrolling","MSOverflowScrolling"],i;(function(){for(var a=document.createElement("div").style,c=-1,d;d=b[++c];)if(d in a){i=d;break}})();d.Scrollable=h.extend(function(){h.apply(this,arguments);this.iScrollOptions||(this.iScrollOptions={});this.supportsOverflow?this.initOverflowScroll():(this.className="synthetic-scroll",this.initIScroll())},{supportsOverflow:!!i,className:"overflow-scroll",iScrollOptions:null,
wrapper:function(){return f('<div class="scroll-wrapper"></div>')},initOverflowScroll:function(){this.el.addClass(this.className);this.preventParentScroll()},initIScroll:function(){var a=this.wrapper(),b={},d,h;for(d in this.iScrollOptions)h=this.iScrollOptions[d],"function"==typeof h&&(h=f.proxy(h,this)),b[d]=h;h=b.onBeforeScrollStart;b.onBeforeScrollStart=function(a){var b=(a.explicitOriginalTarget||a.target).nodeName;"SELECT"!=b&&("OPTION"!=b&&"INPUT"!=b&&"TEXTAREA"!=b&&"LABEL"!=b)&&a.preventDefault();
h&&h.apply(this,arguments)};this.el.addClass(this.className);a.append(this.el.children());this.el.append(a);this.iScroll=new e(this.el[0],b);this.refresh()},refresh:function(){this.supportsOverflow||Lavaca.delay(function(){this.iScroll.refresh()},this,10)},preventParentScroll:function(){var a=this.el[0];this.el.on("touchstart",function(){startTopScroll=a.scrollTop;0>=startTopScroll&&(a.scrollTop=1);startTopScroll+a.offsetHeight>=a.scrollHeight&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)})},dispose:function(){this.isScroll&&
this.iScroll.destroy();h.prototype.dispose.call(this)}})})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget,iScroll);
