/*
Lavaca 1.0.2
Copyright (c) 2012 Mutual Mobile

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

Contains components from or inspired by:

Simple Reset
(c) 2011 Eric Meyer
Released to public domain

jQuery v1.7.1
(c) 2011, John Resig
Dual licensed under the MIT or GPL Version 2 licenses.

Sizzle.js
(c) 2011, The Dojo Foundation
Released under the MIT, BSD, and GPL licenses.

Backbone.js 0.9.1 and Underscore.js 1.3.1
(c) 2012, Jeremy Ashkenas, DocumentCloud Inc
Released under the MIT license.

Dust.js v0.3.0
(c) 2010, Aleksander Williams
Released under the MIT license.

Zepto.js 0.8.0
(c) 2011 Thomas Fuchs
Released under the MIT license

jMiny 0.5.0
(c) 2012 Dan Nichols
Released under the MIT license

ChildBrowser
(c) 2012 Jesse MacFadyen, Nitobi
Released under the MIT license

lz77.js
(c) 2009 Olle Törnström
Released under the MIT license

iScroll 4.1.9
(c) 2011 Matteo Spinelli
Released under the MIT license
*/
(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===e&&(Array.prototype.reduce=function(f){if(this===void 0||this===null)throw new TypeError;var h=Object(this),d=h.length>>>0,b=0,i;if(typeof f!="function")throw new TypeError;if(d==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)i=arguments[1];else{do{if(b in h){i=h[b++];break}if(++b>=d)throw new TypeError;}while(1)}for(;b<d;){b in h&&
(i=f.call(e,i,h[b],b,h));b++}return i})})();
var Zepto=function(){function e(a){return"[object Function]"==C.call(a)}function f(a){return a instanceof Object}function h(a){var c,b;if("[object Object]"!==C.call(a))return!1;b=e(a.constructor)&&a.constructor.prototype;if(!b||!hasOwnProperty.call(b,"isPrototypeOf"))return!1;for(c in a);return c===j||hasOwnProperty.call(a,c)}function d(a){return a instanceof Array}function b(a){return"number"==typeof a.length}function i(a){return a.filter(function(a){return a!==j&&null!==a})}function a(a){return a.replace(/::/g,
"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(a){return a in z?z[a]:z[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function g(a,c){return c===j?k(a):k(a).filter(c)}function n(a,c,b,g){return e(c)?c.call(a,b,g):c}function o(a,c,b){var g=a%2?c:c.parentNode;g?g.insertBefore(b,!a?c.nextSibling:1==a?g.firstChild:2==a?c:null):k(b).remove()}function l(a,c){c(a);for(var b in a.childNodes)l(a.childNodes[b],c)}var j,m,k,q,p=[],t=p.slice,s=
window.document,u={},z={},A=s.defaultView.getComputedStyle,B={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},E=/^\s*<(\w+|!)[^>]*>/,J=[1,3,8,9,11],x=s.createElement("table"),F=s.createElement("tr"),G={tr:s.createElement("tbody"),tbody:x,thead:x,tfoot:x,td:F,th:F,"*":s.createElement("div")},r=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,y=/^#([\w-]+)$/,K=/^[\w-]+$/,C={}.toString,v={},L,I,w=s.createElement("div");v.matches=function(a,c){if(!a||1!==a.nodeType)return!1;
var b=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(b)return b.call(a,c);var g;g=a.parentNode;(b=!g)&&(g=w).appendChild(a);g=~v.qsa(g,c).indexOf(a);b&&w.removeChild(a);return g};L=function(a){return a.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})};I=function(a){return a.filter(function(c,b){return a.indexOf(c)==b})};v.fragment=function(a,c){c===j&&(c=E.test(a)&&RegExp.$1);c in G||(c="*");var b=G[c];b.innerHTML=""+a;return k.each(t.call(b.childNodes),
function(){b.removeChild(this)})};v.Z=function(a,c){a=a||[];a.__proto__=arguments.callee.prototype;a.selector=c||"";return a};v.isZ=function(a){return a instanceof v.Z};v.init=function(a,c){if(a){if(e(a))return k(s).ready(a);if(v.isZ(a))return a;var b;if(d(a))b=i(a);else if(h(a))b=[k.extend({},a)],a=null;else if(0<=J.indexOf(a.nodeType)||a===window)b=[a],a=null;else if(E.test(a))b=v.fragment(a.trim(),RegExp.$1),a=null;else{if(c!==j)return k(c).find(a);b=v.qsa(s,a)}return v.Z(b,a)}return v.Z()};k=
function(a,c){return v.init(a,c)};k.extend=function(a){t.call(arguments,1).forEach(function(c){for(m in c)c[m]!==j&&(a[m]=c[m])});return a};v.qsa=function(a,c){var b;return a===s&&y.test(c)?(b=a.getElementById(RegExp.$1))?[b]:p:1!==a.nodeType&&9!==a.nodeType?p:t.call(H.test(c)?a.getElementsByClassName(RegExp.$1):K.test(c)?a.getElementsByTagName(c):a.querySelectorAll(c))};k.isFunction=e;k.isObject=f;k.isArray=d;k.isPlainObject=h;k.inArray=function(a,c,b){return p.indexOf.call(c,a,b)};k.trim=function(a){return a.trim()};
k.uuid=0;k.map=function(a,c){var g,d=[],e;if(b(a))for(e=0;e<a.length;e++)g=c(a[e],e),null!=g&&d.push(g);else for(e in a)g=c(a[e],e),null!=g&&d.push(g);return 0<d.length?[].concat.apply([],d):d};k.each=function(a,c){var g;if(b(a))for(g=0;g<a.length&&!1!==c.call(a[g],g,a[g]);g++);else for(g in a)if(!1===c.call(a[g],g,a[g]))break;return a};k.fn={forEach:p.forEach,reduce:p.reduce,push:p.push,indexOf:p.indexOf,concat:p.concat,map:function(a){return k.map(this,function(c,b){return a.call(c,b,c)})},slice:function(){return k(t.apply(this,
arguments))},ready:function(a){r.test(s.readyState)?a(k):s.addEventListener("DOMContentLoaded",function(){a(k)},!1);return this},get:function(a){return a===j?t.call(this):this[a]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){this.forEach(function(c,b){a.call(c,b,c)});return this},filter:function(a){return k([].filter.call(this,function(c){return v.matches(c,
a)}))},add:function(a,c){return k(I(this.concat(k(a,c))))},is:function(a){return 0<this.length&&v.matches(this[0],a)},not:function(a){var c=[];if(e(a)&&a.call!==j)this.each(function(b){a.call(this,b)||c.push(this)});else{var g="string"==typeof a?this.filter(a):b(a)&&e(a.item)?t.call(a):k(a);this.forEach(function(a){0>g.indexOf(a)&&c.push(a)})}return k(c)},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!f(a)?a:k(a)},last:function(){var a=this[this.length-
1];return a&&!f(a)?a:k(a)},find:function(a){var c;c=1==this.length?v.qsa(this[0],a):this.map(function(){return v.qsa(this,a)});return k(c)},closest:function(a,c){for(var b=this[0];b&&!v.matches(b,a);)b=b!==c&&b!==s&&b.parentNode;return k(b)},parents:function(a){for(var c=[],b=this;0<b.length;)b=k.map(b,function(a){if((a=a.parentNode)&&a!==s&&0>c.indexOf(a))return c.push(a),a});return g(c,a)},parent:function(a){return g(I(this.pluck("parentNode")),a)},children:function(a){return g(this.map(function(){return t.call(this.children)}),
a)},siblings:function(a){return g(this.map(function(a,c){return t.call(c.parentNode.children).filter(function(a){return a!==c})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==A(this,"").getPropertyValue("display")){var a=this.style,c=this.nodeName,b,g;u[c]||(b=s.createElement(c),s.body.appendChild(b),g=
A(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==g&&(g="block"),u[c]=g);a.display=u[c]}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return this.each(function(){k(this).wrapAll(k(a)[0].cloneNode(!1))})},wrapAll:function(a){this[0]&&(k(this[0]).before(a=k(a)),a.append(this));return this},unwrap:function(){this.parent().each(function(){k(this).replaceWith(k(this).children())});return this},clone:function(){return k(this.map(function(){return this.cloneNode(!0)}))},
hide:function(){return this.css("display","none")},toggle:function(a){return(a===j?"none"==this.css("display"):a)?this.show():this.hide()},prev:function(){return k(this.pluck("previousElementSibling"))},next:function(){return k(this.pluck("nextElementSibling"))},html:function(a){return a===j?0<this.length?this[0].innerHTML:null:this.each(function(c){var b=this.innerHTML;k(this).empty().append(n(this,a,c,b))})},text:function(a){return a===j?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=
a})},attr:function(a,c){var b;return"string"==typeof a&&c===j?0==this.length||1!==this[0].nodeType?j:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(b=this[0].getAttribute(a))&&a in this[0]?this[0][a]:b:this.each(function(b){if(1===this.nodeType)if(f(a))for(m in a)this.setAttribute(m,a[m]);else this.setAttribute(a,n(this,c,b,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},prop:function(a,c){return c===j?this[0]?this[0][a]:
j:this.each(function(b){this[a]=n(this,c,b,this[a])})},data:function(c,b){var g=this.attr("data-"+a(c),b);return null!==g?g:j},val:function(a){return a===j?0<this.length?this[0].value:j:this.each(function(c){this.value=n(this,a,c,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(c,b){if(b===j&&"string"==typeof c)return 0==this.length?j:
this[0].style[L(c)]||A(this[0],"").getPropertyValue(c);var g="";for(m in c)"string"==typeof c[m]&&""==c[m]?this.each(function(){this.style.removeProperty(a(m))}):g+=a(m)+":"+("number"==typeof c[m]&&!B[a(m)]?c[m]+"px":c[m])+";";"string"==typeof c&&(""==b?this.each(function(){this.style.removeProperty(a(c))}):g=a(c)+":"+("number"==typeof b&&!B[a(c)]?b+"px":b));return this.each(function(){this.style.cssText+=";"+g})},index:function(a){return a?this.indexOf(k(a)[0]):this.parent().children().indexOf(this[0])},
hasClass:function(a){return 1>this.length?!1:c(a).test(this[0].className)},addClass:function(a){return this.each(function(c){q=[];var b=this.className;n(this,a,c,b).split(/\s+/g).forEach(function(a){k(this).hasClass(a)||q.push(a)},this);q.length&&(this.className+=(b?" ":"")+q.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===j)return this.className="";q=this.className;n(this,a,b,q).split(/\s+/g).forEach(function(a){q=q.replace(c(a)," ")});this.className=q.trim()})},toggleClass:function(a,
c){return this.each(function(b){b=n(this,a,b,this.className);(c===j?!k(this).hasClass(b):c)?k(this).addClass(b):k(this).removeClass(b)})}};["width","height"].forEach(function(a){k.fn[a]=function(c){var b,g=a.replace(/./,function(a){return a[0].toUpperCase()});return c===j?this[0]==window?window["inner"+g]:this[0]==s?s.documentElement["offset"+g]:(b=this.offset())&&b[a]:this.each(function(b){var g=k(this);g.css(a,n(this,c,b,g[a]()))})}});["after","prepend","before","append"].forEach(function(a,c){k.fn[a]=
function(){var a=k.map(arguments,function(a){return f(a)?a:v.fragment(a)});if(1>a.length)return this;var b=this.length,g=1<b,e=2>c;return this.each(function(d,i){for(var f=0;f<a.length;f++){var h=a[e?a.length-f-1:f];l(h,function(a){null!=a.nodeName&&("SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type))&&window.eval.call(window,a.innerHTML)});g&&d<b-1&&(h=h.cloneNode(!0));o(c,i,h)}})};k.fn[c%2?a+"To":"insert"+(c?"Before":"After")]=function(c){k(c)[a](this);return this}});v.Z.prototype=
k.fn;v.camelize=L;v.uniq=I;k.zepto=v;return k}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);
(function(e){function f(a){return a._zid||(a._zid=o++)}function h(a,c,b,g){c=d(c);if(c.ns)var e=RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(n[f(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||e.test(a.ns))&&(!b||f(a.fn)===f(b))&&(!g||a.sel==g)})}function d(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function b(a,c,b){e.isObject(a)?e.each(a,b):a.split(/\s/).forEach(function(a){b(a,c)})}function i(a,c,g,i,o,h){var h=!!h,l=f(a),j=n[l]||(n[l]=
[]);b(c,g,function(c,b){var g=o&&o(b,c),f=g||b,n=function(c){var b=f.apply(a,[c].concat(c.data));!1===b&&c.preventDefault();return b},g=e.extend(d(c),{fn:b,proxy:n,sel:i,del:g,i:j.length});j.push(g);a.addEventListener(g.e,n,h)})}function a(a,c,g,e){var d=f(a);b(c||"",g,function(c,b){h(a,c,b,e).forEach(function(c){delete n[d][c.i];a.removeEventListener(c.e,c.proxy,!1)})})}function c(a){var c=e.extend({originalEvent:a},a);e.each(k,function(b,g){c[b]=function(){this[g]=j;return a[b].apply(a,arguments)};
c[g]=m});return c}function g(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var c=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0;c.call(this)}}}var n={},o=1,l={};l.click=l.mousedown=l.mouseup=l.mousemove="MouseEvents";e.event={add:i,remove:a};e.proxy=function(a,c){if(e.isFunction(a)){var b=function(){return a.apply(c,arguments)};b._zid=f(a);return b}if("string"==typeof c)return e.proxy(a[c],a);throw new TypeError("expected function");};e.fn.bind=function(a,c){return this.each(function(){i(this,
a,c)})};e.fn.unbind=function(c,b){return this.each(function(){a(this,c,b)})};e.fn.one=function(c,b){return this.each(function(g,e){i(this,c,b,null,function(c,b){return function(){var g=c.apply(e,arguments);a(e,b,c);return g}})})};var j=function(){return!0},m=function(){return!1},k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(a,b,g){var d=!1;if("blur"==b||"focus"==b)e.iswebkit?b="blur"==
b?"focusout":"focus"==b?"focusin":b:d=!0;return this.each(function(f,h){i(h,b,g,a,function(b){return function(g){var d,i=e(g.target).closest(a,h).get(0);if(i)return d=e.extend(c(g),{currentTarget:i,liveFired:h}),b.apply(i,[d].concat([].slice.call(arguments,1)))}},d)})};e.fn.undelegate=function(c,b,g){return this.each(function(){a(this,b,g,c)})};e.fn.live=function(a,c){e(document.body).delegate(this.selector,a,c);return this};e.fn.die=function(a,c){e(document.body).undelegate(this.selector,a,c);return this};
e.fn.on=function(a,c,b){return void 0==c||e.isFunction(c)?this.bind(a,c):this.delegate(c,a,b)};e.fn.off=function(a,c,b){return void 0==c||e.isFunction(c)?this.unbind(a,c):this.undelegate(c,a,b)};e.fn.trigger=function(a,c){"string"==typeof a&&(a=e.Event(a));g(a);a.data=c;return this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(a)})};e.fn.triggerHandler=function(a,b){var g,d;this.each(function(i,f){g=c("string"==typeof a?e.Event(a):a);g.data=b;g.target=f;e.each(h(f,a.type||a),function(a,
c){d=c.proxy(g);if(g.isImmediatePropagationStopped())return!1})});return d};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(a){e.fn[a]=function(c){return this.bind(a,c)}});["focus","blur"].forEach(function(a){e.fn[a]=function(c){if(c)this.bind(a,c);else if(this.length)try{this.get(0)[a]()}catch(b){}return this}});e.Event=function(a,c){var b=document.createEvent(l[a]||"Events"),
g=!0;if(c)for(var d in c)"bubbles"==d?g=!!c[d]:b[d]=c[d];b.initEvent(a,g,!0,null,null,null,null,null,null,null,null,null,null,null,null);return b}})(Zepto);
(function(e){function f(e){var d=this.os={},b=this.browser={},i=e.match(/WebKit\/([\d.]+)/),a=e.match(/(Android)\s+([\d.]+)/),c=e.match(/(iPad).*OS\s([\d_]+)/),g=!c&&e.match(/(iPhone\sOS)\s([\d_]+)/),f=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),o=f&&e.match(/TouchPad/),l=e.match(/Kindle\/([\d.]+)/),j=e.match(/Silk\/([\d._]+)/),m=e.match(/(BlackBerry).*Version\/([\d.]+)/);if(b.webkit=!!i)b.version=i[1];a&&(d.android=!0,d.version=a[2]);g&&(d.ios=d.iphone=!0,d.version=g[2].replace(/_/g,"."));c&&(d.ios=d.ipad=
!0,d.version=c[2].replace(/_/g,"."));f&&(d.webos=!0,d.version=f[2]);o&&(d.touchpad=!0);m&&(d.blackberry=!0,d.version=m[2]);l&&(d.kindle=!0,d.version=l[1]);j&&(b.silk=!0,b.version=j[1]);!j&&(d.android&&e.match(/Kindle Fire/))&&(b.silk=!0)}f.call(e,navigator.userAgent);e.__detect=f})(Zepto);
(function(e,f){var h="",d,b=window.document.createElement("div"),i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,a={};e.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(a,g){if(b.style[a+"TransitionProperty"]!==f)return h="-"+a.toLowerCase()+"-",d=g,!1});a[h+"transition-property"]=a[h+"transition-duration"]=a[h+"transition-timing-function"]=a[h+"animation-name"]=a[h+"animation-duration"]="";e.fx={off:d===f&&b.style.transitionProperty===f,cssPrefix:h,transitionEnd:d?
d+"TransitionEnd":"transitionend",animationEnd:d?d+"AnimationEnd":"animationend"};e.fn.animate=function(a,b,d,i){e.isObject(b)&&(d=b.easing,i=b.complete,b=b.duration);b&&(b/=1E3);return this.anim(a,b,d,i)};e.fn.anim=function(c,b,d,o){var l,j={},m,k=this,q,p=e.fx.transitionEnd;b===f&&(b=0.4);e.fx.off&&(b=0);if("string"==typeof c)j[h+"animation-name"]=c,j[h+"animation-duration"]=b+"s",p=e.fx.animationEnd;else{for(m in c)i.test(m)?(l||(l=[]),l.push(m+"("+c[m]+")")):j[m]=c[m];l&&(j[h+"transform"]=l.join(" "));
!e.fx.off&&"object"===typeof c&&(j[h+"transition-property"]=Object.keys(c).join(", "),j[h+"transition-duration"]=b+"s",j[h+"transition-timing-function"]=d||"linear")}q=function(c){if("undefined"!==typeof c){if(c.target!==c.currentTarget)return;e(c.target).unbind(p,arguments.callee)}e(this).css(a);o&&o.call(this)};0<b&&this.bind(p,q);setTimeout(function(){k.css(j);0>=b&&setTimeout(function(){k.each(function(){q.call(this)})},0)},0);return this};b=null})(Zepto);
(function(e){function f(a,c,b,g){if(a.global)return a=c||m,b=e.Event(b),e(a).trigger(b,g),!b.defaultPrevented}function h(a){a.global&&0===e.active++&&f(a,null,"ajaxStart")}function d(a,c){var b=c.context;if(!1===c.beforeSend.call(b,a,c)||!1===f(c,b,"ajaxBeforeSend",[a,c]))return!1;f(c,b,"ajaxSend",[a,c])}function b(c,b,g){var d=g.context;g.success.call(d,c,"success",b);f(g,d,"ajaxSuccess",[b,g,c]);a("success",b,g)}function i(c,b,g,d){var e=d.context;d.error.call(e,g,b,c);f(d,e,"ajaxError",[g,d,c]);
a(b,g,d)}function a(a,c,b){var g=b.context;b.complete.call(g,c,a);f(b,g,"ajaxComplete",[c,b]);b.global&&!--e.active&&f(b,null,"ajaxStop")}function c(){}function g(a){return a&&(a==z?"html":a==u?"json":t.test(a)?"script":s.test(a)&&"xml")||"text"}function n(a){j(a.data)&&(a.data=e.param(a.data));if(a.data&&(!a.type||"GET"==a.type.toUpperCase()))a.url=(a.url+"&"+a.data).replace(/[&?]{1,2}/,"?")}function o(a,c,b,g){var d=e.isArray(c);e.each(c,function(c,i){g&&(c=b?g:g+"["+(d?"":c)+"]");!g&&d?a.add(i.name,
i.value):(b?e.isArray(i):j(i))?o(a,i,b,c):a.add(c,i)})}var l=0,j=e.isObject,m=window.document,k,q,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,t=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,u="application/json",z="text/html",A=/^\s*$/;e.active=0;e.ajaxJSONP=function(g){var d="jsonp"+ ++l,i=m.createElement("script"),f={abort:function(){e(i).remove();d in window&&(window[d]=c);a("abort",f,g)}},o;g.error&&(i.onerror=function(){f.abort();g.error()});window[d]=function(a){clearTimeout(o);
e(i).remove();delete window[d];b(a,f,g)};n(g);i.src=g.url.replace(/=\?/,"="+d);e("head").append(i);0<g.timeout&&(o=setTimeout(function(){f.abort();a("timeout",f,g)},g.timeout));return f};e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:u,xml:"application/xml, text/xml",html:z,text:"text/plain"},crossDomain:!1,timeout:0};e.ajax=function(a){var f=
e.extend({},a||{});for(k in e.ajaxSettings)void 0===f[k]&&(f[k]=e.ajaxSettings[k]);h(f);f.crossDomain||(f.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(f.url)&&RegExp.$2!=window.location.host);var o=f.dataType,a=/=\?/.test(f.url);if("jsonp"==o||a)return a||(f.url=(f.url+"&callback=?").replace(/[&?]{1,2}/,"?")),e.ajaxJSONP(f);f.url||(f.url=window.location.toString());n(f);var a=f.accepts[o],l={},j=/^([\w-]+:)\/\//.test(f.url)?RegExp.$1:window.location.protocol,r=e.ajaxSettings.xhr(),m;f.crossDomain||
(l["X-Requested-With"]="XMLHttpRequest");a&&(l.Accept=a,-1<a.indexOf(",")&&(a=a.split(",",2)[0]),r.overrideMimeType&&r.overrideMimeType(a));if(f.contentType||f.data&&"GET"!=f.type.toUpperCase())l["Content-Type"]=f.contentType||"application/x-www-form-urlencoded";f.headers=e.extend(l,f.headers||{});r.onreadystatechange=function(){if(r.readyState==4){clearTimeout(m);var a,c=false;if(r.status>=200&&r.status<300||r.status==304||r.status==0&&j=="file:"){o=o||g(r.getResponseHeader("content-type"));a=r.responseText;
try{o=="script"?(0,eval)(a):o=="xml"?a=r.responseXML:o=="json"&&(a=A.test(a)?null:JSON.parse(a))}catch(d){c=d}c?i(c,"parsererror",r,f):b(a,r,f)}else i(null,"error",r,f)}};r.open(f.type,f.url,"async"in f?f.async:!0);for(q in f.headers)r.setRequestHeader(q,f.headers[q]);if(!1===d(r,f))return r.abort(),!1;0<f.timeout&&(m=setTimeout(function(){r.onreadystatechange=c;r.abort();i(null,"timeout",r,f)},f.timeout));r.send(f.data?f.data:null);return r};e.get=function(a,c){return e.ajax({url:a,success:c})};
e.post=function(a,c,b,g){e.isFunction(c)&&(g=g||b,b=c,c=null);return e.ajax({type:"POST",url:a,data:c,success:b,dataType:g})};e.getJSON=function(a,c){return e.ajax({url:a,success:c,dataType:"json"})};e.fn.load=function(a,c){if(!this.length)return this;var b=this,g=a.split(/\s/),d;1<g.length&&(a=g[0],d=g[1]);e.get(a,function(a){b.html(d?e(m.createElement("div")).html(a.replace(p,"")).find(d).html():a);c&&c.call(b)});return this};var B=encodeURIComponent;e.param=function(a,c){var b=[];b.add=function(a,
c){this.push(B(a)+"="+B(c))};o(b,a,c);return b.join("&").replace("%20","+")}})(Zepto);
(function(e){e.fn.serializeArray=function(){var f=[],h;e(Array.prototype.slice.call(this.get(0).elements)).each(function(){h=e(this);var d=h.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&(!this.disabled&&"submit"!=d&&"reset"!=d&&"button"!=d&&("radio"!=d&&"checkbox"!=d||this.checked))&&f.push({name:h.attr("name"),value:h.val()})});return f};e.fn.serialize=function(){var e=[];this.serializeArray().forEach(function(h){e.push(encodeURIComponent(h.name)+"="+encodeURIComponent(h.value))});return e.join("&")};
e.fn.submit=function(f){f?this.bind("submit",f):this.length&&(f=e.Event("submit"),this.eq(0).trigger(f),f.defaultPrevented||this.get(0).submit());return this}})(Zepto);
(function(e){function f(a,c,b,d){var e=Math.abs(a-c),f=Math.abs(b-d);return e>=f?0<a-c?"Left":"Right":0<b-d?"Up":"Down"}function h(){i=null;d.last&&(d.el.trigger("longTap"),d={})}var d={},b,i;e(document).ready(function(){var a,c;e(document.body).bind("touchstart",function(g){a=Date.now();c=a-(d.last||a);d.el=e("tagName"in g.touches[0].target?g.touches[0].target:g.touches[0].target.parentNode);b&&clearTimeout(b);d.x1=g.touches[0].pageX;d.y1=g.touches[0].pageY;0<c&&250>=c&&(d.isDoubleTap=!0);d.last=
a;i=setTimeout(h,750)}).bind("touchmove",function(a){i&&clearTimeout(i);i=null;d.x2=a.touches[0].pageX;d.y2=a.touches[0].pageY}).bind("touchend",function(){i&&clearTimeout(i);i=null;d.isDoubleTap?(d.el.trigger("doubleTap"),d={}):d.x2&&30<Math.abs(d.x1-d.x2)||d.y2&&30<Math.abs(d.y1-d.y2)?(d.el.trigger("swipe")&&d.el.trigger("swipe"+f(d.x1,d.x2,d.y1,d.y2)),d={}):"last"in d&&(d.el.trigger("tap"),b=setTimeout(function(){b=null;d.el.trigger("singleTap");d={}},250))}).bind("touchcancel",function(){b&&clearTimeout(b);
i&&clearTimeout(i);i=b=null;d={}})});"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(a){e.fn[a]=function(c){return this.bind(a,c)}})})(Zepto);
(function(){function e(a,c){return a instanceof c}function f(a,c){if(c)for(var b in c)a[b]=c[b];return a}function h(a,c,b){for(var g=0,d=a.length;g<d&&c.call(b,g,a[g])!==i;g++);}function d(a,c){if(a.indexOf)return-1<a.indexOf(c);for(var b=0,g=a.length;b<g;b++)if(a[b]==c)return!0;return!1}function b(a,c,b){function g(){}b||(b=c,c=a,a={});g.prototype=a.prototype;c.prototype=new g;if(b)for(var d in b)c.prototype[d]=b[d];return c}var i=!1,a="~#?@:<>+/^".split(""),c="#?@:+<".split(""),g,n=b(function(a,
c,b){this.head=a;this.tail={};this.tailIsValue=!("object"==typeof c&&!e(c,Array));this.params=f({},b);this.update(c)},{get:function(a){if(!this.tailIsValue&&this.tail.hasOwnProperty(a))return this.tail[a];if(this.params.hasOwnProperty(a))return this.params[a];if(this.head)return this.head.get(a)},set:function(a,c){if(this.tailIsValue)throw"Cannot get property on value type";this.tail[a]=c},update:function(a){if(void 0!==a)if(e(a,n))(this.tailIsValue=a.tailIsValue)?this.tail=a.tail:(this.tailIsValue&&
(this.tail={},this.tailIsValue=!1),f(this.tail,a.tail)),f(this.params,a.params);else if("object"==typeof a&&!e(a,Array)){this.tailIsValue&&(this.tail={},this.tailIsValue=!1);for(var c in a)this.set(c,a[c])}else this.tailIsValue=!0,this.tail=a}}),o=b(function(a){e(a,Array)&&(a=a.join("."));this.path=0==a.indexOf(".")?["."].concat(a.slice(1).split(".")):a.split(".")},{resolve:function(a,c){var b=new n(a,c,void 0);c?e(c,Array)?b=[].concat(c):h(this.path,function(a,c){if(c)if("."==c){if(b.tailIsValue)return b=
b.tail,i;b.parent=void 0}else{var g=b.get(c);if(void 0!==g)b=new n(b,g,void 0),b.tailIsValue&&(b=b.tail);else return b=void 0,i}else return b=b.tail,i},this):b=void 0;return b}}),l=b(function(a,c){this.tail=c;this.head=a},{getBlock:function(a){var c=this.tail.getBlock(a);if(c)return c;if(this.head)return this.head.getBlock(a)}}),j=b(function(a){this.blocks=a||{}},{render:function(){throw"Abstract";},getBlock:function(a){if(this.hasBlock(a))return this.blocks[a].asBlock()},setBlock:function(a,c){this.blocks[a]=
c},hasBlock:function(a){return void 0!==this.blocks[a]},asBlock:function(){return this}}),m=b(j,function(a,c){j.call(this,a,c);this.nodes=[].concat(c||[])},{each:function(a,c){h(this.nodes,a,c||this)},add:function(a){this.nodes[this.nodes.length]=a},last:function(){return this.nodes[this.nodes.length-1]},prepareModel:function(a,c,b){return new n(c,b,void 0)},render:function(a,c,b){var a=new l(a,this),b=this.prepareModel(a,c,b),g=[];void 0!==b&&this.each(function(d,e){g[g.length]=e.render(a,c,b)});
return g.join("")}}),k=b(j,function(a,c){j.call(this,c);a=a||"";this.buffer=[a];this.value=a},{write:function(a){if(this.buffer)this.buffer.push(a);else throw"TextNode buffer is closed";},close:function(){this.buffer&&(this.value=this.buffer.join(""),this.buffer=void 0)},render:function(){this.close();return this.value}}),q=b(j,function(a,c,b){j.call(this,c);this.context=new o(a);this.filters=[].concat(b||[])},{render:function(a,c,b){var a=new l(a,this),d=b,f="",b=this.context.resolve(c,b);void 0!==
b&&(f=e(b,j)?b.render(a,c,d):e(b,o)?b.resolve(c,d):e(b,n)?b.tail:b.toString(),this.filters?h(this.filters,function(a,c){g.filters[c]&&(f=g.filters[c](f))}):f=g.escapeHTML(f));return f}}),p=b(j,function(a,c,b,g,d){j.call(this,g);this.bodies={};d?f(this.bodies,d):this.startBody("block");this.params=f({},b);this.context=a?new o(a):void 0;this.scope=c?new o(c):void 0},{allowIter:!0,startBody:function(a){return this.currentBody=this.bodies[a]=new m},endBody:function(){this.currentBody=void 0},prepareModel:function(a,
c,b){var g={},d;if(this.params)for(d in this.params)g[d]=this.params[d].render(a,c,c);a=new n(c,b,g);a.update(b);return a},renderBody:function(a,c,b,g){var d=[],i=this.bodies[a],b=new n(b,g,this.params);this.scope?g=this.scope.resolve(b,g):this.context&&"string"!=typeof this.context&&(g=this.context.resolve(b,g));if(i)if(c=new l(c,i),this.allowIter&&e(g,Array)){var o=g.length;"else"==a&&1>o?d.push(i.render(c,b,void 0)):h(g,function(a,g){g=this.prepareModel(c,b,g);f(g.params,{"@idx":a,"@sep":a!=o-
1});d.push(i.render(c,b,g))},this)}else g=this.prepareModel(c,b,g),d.push(i.render(c,b,g));return d.join("")},chooseBodyName:function(a,c){var b=this.context.resolve(a,c);e(b,Array)&&1>b.length&&(b=!1);return b?"block":"else"},render:function(a,c,b){a=new l(a,this);c=new n(c,void 0,this.params);return this.renderBody(this.chooseBodyName(c,b),a,c,b)}}),t=b(p,function(){p.apply(this,arguments)},{operator:"?",allowIter:!1,prepareModel:function(a,c){return new n(c,c,this.params)}});b(t,function(){t.apply(this,
arguments)},{prepareModel:function(a,c,b){return this.context.resolve(c,b)?"else":"block"}});var s=b(p,function(a,c,b,g,d){p.call(this,void 0,c,b,g,d);this.context=a},{render:function(a,c,b){a=new l(a,this);c=new n(this.params,c);return g.helpers[this.context](a,c,b)}}),u=b(m,function(){m.apply(this,arguments)},{prepareModel:function(a,c,b){if(void 0!==b.get("@idx"))return b.get("@idx").toString()}}),z=b(m,function(){m.apply(this,arguments)},{prepareModel:function(a,c,b){if(b.get("@sep"))return m.prototype.prepareModel.apply(this,
arguments)}}),A=b(j,function(a,c){j.call(this,c);this.code=a;this.character=this.characters[a]},{characters:{n:"\n",r:"\r",s:" ",lb:"{",rb:"}"},render:function(){return this.character}}),B=b(j,function(a,c,b){j.call(this,b);this.include=a;this.scope=c?new o(c):void 0},{render:function(a,c,b){this.scope&&(b=this.scope.resolve(c,b));a=new l(a,this);name=this.include;e(this.include,m)&&(name=this.include.render(a,c,b));return g.load(name).render(a,c,b)}}),E=b(m,function(a,c,b){m.call(this,c,b);this.name=
a},{render:function(a,c,b){return(block=a.getBlock(this.name))?block.render(a,c,b):m.prototype.render.apply(this,arguments)}}),J=b(m,function(a,c,b){m.call(this,c,b);this.name=a},{asBlock:function(){return new m(null,this.nodes)},render:function(){return""}}),x=b(function(){},{parse:function(b){for(var b=b.replace(/(\{!.+?!\})|(^\s+)|(\s+$)/gm,""),f=[new m],i=0,o=/(\{[\~\#\?\@\:\<\>\+\/\^]?([a-zA-Z0-9_\$\.]+|"[^"]+")(\:[a-zA-Z0-9\$\.]+)?(\|[a-z]+)*?( \w+\=(("[^"]*?")|([\w\.]+)))*?\/?\})/mg,n=0,l,
j,I,w,x,D,F,G;j=o.exec(b);){I=!1;l=j.index;j=l+j[0].length;n!=l&&(n=b.slice(n,l))&&f[i].add(new k(n));n=j;w=void 0;l=b.slice(l+1,j-1);x=l.charAt(0);l=l.split(" ");if(d(a,x)){if(j=l[0].slice(1).split(":"),D=1<j.length?j[1]:void 0,j=j[0],G=l[l.length-1],(F="/"==j.slice(-1))?j=j.slice(0,-1):D&&"/"==D.slice(-1)?(D=D.slice(0,-1),F=!0):G&&"/"==G.slice(-1)&&(l[l.length-1]=G.slice(0,-1),F=!0),"~"==x?w=new A(j):"#"==x?w=g.helpers.hasOwnProperty(j)?new s(j,D,void 0):new p(j,D,void 0):"?"==x?w=new t(j,D,void 0):
"@"==x?(name=l[0].slice(1),"idx"==name?w=new u:"sep"==name&&(w=new z)):">"==x?('"'==j.charAt(0)&&(j=this.parse(j.replace(/^"|"$/g,""))),w=new B(j,D)):w="+"==x?new E(j):"<"==x?new J(j):new k("UNDEFINED:"+l.join(" ")),h(l.slice(1),function(a,c){var c=c.split("="),b=c[0],g=c.slice(1).join("="),g=g.charAt(0)!='"'?new q(g):this.parse(g.replace(/(^")|("$)|("\/$)/g,""));w.params[b]=g},this),!F)d(c,x)?(I=!0,e(w,m)?(e(w,J)&&f[i].setBlock(w.name,w),f[i].add(w),i+=1,f[i]=w):e(w,p)?(f[i].add(w),f[++i]=w.currentBody):
(l=f[i-1].last(),l.endBody(),f[i]=l.startBody(j))):"/"==x&&(I=!0,0<i&&f.splice(i--,1))}else l=l[0].split("|"),j=l.splice(1),l=l[0],w=new q(l,null,j);w&&!I&&f[i].add(w)}(b=b.slice(n))&&f[i].add(new k(b));return f[0]}}),F=b(function(a,c,b){this.name=a;this.rootNode=c;this.srcFile=b},{render:function(a,c,b){return this.rootNode.render(c,b,a)}}),G=b(function(){this.parser=new x;this.templates={};this.helpers={};this.filters={h:this.escapeHTML,j:this.escapeJS,u:this.escapeURI,uc:this.escapeURIComponent};
var a=null;this.getContextPath=function(){a||this.setContextPath(window.location.toString());return a};this.setContextPath=function(c){a=c.split("#")[0].split("?")[0].replace(/\/[^\/]*?\..[^\/]*?$/,"")}},{escapeHTML:function(a){a+="";return/[&<>\"]/.test(a)?a.replace(/&/,"&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&squot;"):a},escapeJS:function(a){return(a+"").replace("\\","\\\\").replace('"','\\"').replace("'","\\'").replace("\r","\\r").replace("\u2028","\\u2028").replace("\u2029",
"\\u2029").replace("\n","\\n").replace("\u000c","\\f").replace("\t","\\t")},escapeURI:function(a){return encodeURI(a)},escapeURIComponent:function(a){return encodeURIComponent(a)},register:function(a,c,b){this.templates[a]=new F(a,c,b)},compile:function(a,c,b){a=this.parser.parse(a);this.register(c,a,b);return a},load:function(a,c){void 0===c&&(c=a);if(this.templates.hasOwnProperty(a))return this.templates[c].rootNode;0==a.indexOf("~")&&(a=a.replace("~",this.getContextPath()));var b=new XMLHttpRequest;
b.open("GET",a,!1);b.send(null);if(200===b.status||0===b.status)return this.compile(b.responseText,c,a)},render:function(a,c,b){var g=null,d=null;try{g=this.templates[a].render(c)}catch(e){d=e}b(d,g)}});window.xdust=g=new G})();
(function(){var e=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"";/android/gi.test(navigator.appVersion);var h=/iphone|ipad/gi.test(navigator.appVersion),d=/playbook/gi.test(navigator.appVersion),b=/hp-tablet/gi.test(navigator.appVersion),i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,a="ontouchstart"in window&&!b,c=f+"Transform"in document.documentElement.style,g=h||d,n=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),o=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,l="onorientationchange"in window?"orientationchange":"resize",j=a?"touchstart":"mousedown",
m=a?"touchmove":"mousemove",k=a?"touchend":"mouseup",q=a?"touchcancel":"mouseup",p="translate"+(i?"3d(":"("),t=i?",0)":")",h=function(b,d){var e=document,i;this.wrapper="object"==typeof b?b:e.getElementById(b);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,
onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(i in d)this.options[i]=d[i];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=c?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=g&&this.options.useTransition;this.scroller.style[f+"TransitionProperty"]=this.options.useTransform?
"-"+f.toLowerCase()+"-transform":"top left";this.scroller.style[f+"TransitionDuration"]="0";this.scroller.style[f+"TransformOrigin"]="0 0";this.options.useTransition&&(this.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[f+"Transform"]=p+this.x+"px,"+this.y+"px"+t:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(l,window);this._bind(j);a||this._bind("mouseout",
this.wrapper)};h.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(c){switch(c.type){case j:if(!a&&0!==c.button)break;this._start(c);break;case m:this._move(c);break;case k:case q:this._end(c);break;case l:this._resize();break;case "mouseout":this._mouseout(c);break;case "webkitTransitionEnd":this._transitionEnd(c)}},_resize:function(){this.refresh()},_pos:function(a,c){a=this.hScroll?a:0;c=this.vScroll?c:0;this.options.useTransform?this.scroller.style[f+"Transform"]=p+a+"px,"+c+
"px"+t+" scale("+this.scale+")":(a>>=0,c>>=0,this.scroller.style.left=a+"px",this.scroller.style.top=c+"px");this.x=a;this.y=c},_start:function(c){var b=a?c.touches[0]:c,g,d;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,c);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(g=getComputedStyle(this.scroller,
null)[f+"Transform"].replace(/[^0-9-.,]/g,"").split(","),d=1*g[4],g=1*g[5]):(d=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),g=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),d!=this.x||g!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):o(this.aniTime),this.steps=[],this._pos(d,g);this.startX=this.x;this.startY=this.y;this.pointX=b.pageX;this.pointY=b.pageY;this.startTime=c.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,
c);this._bind(m);this._bind(k);this._bind(q)}},_move:function(c){var b=a?c.touches[0]:c,g=b.pageX-this.pointX,d=b.pageY-this.pointY,f=this.x+g,i=this.y+d,o=c.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,c);this.pointX=b.pageX;this.pointY=b.pageY;if(0<f||f<this.maxScrollX)f=this.options.bounce?this.x+g/2:0<=f||0<=this.maxScrollX?0:this.maxScrollX;if(0<i||i<this.maxScrollY)i=this.options.bounce?this.y+d/2:0<=i||0<=this.maxScrollY?0:this.maxScrollY;
this.distX+=g;this.distY+=d;this.absDistX=e.abs(this.distX);this.absDistY=e.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(i=this.y,d=0):this.absDistY>this.absDistX+5&&(f=this.x,g=0)),this.moved=!0,this._pos(f,i),this.dirX=0<g?-1:0>g?1:0,this.dirY=0<d?-1:0>d?1:0,300<o-this.startTime&&(this.startTime=o,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,c))},_end:function(c){if(!(a&&0!=
c.touches.length)){var b=a?c.changedTouches[0]:c,g,d,f={dist:0,time:0},i={dist:0,time:0},o=(c.timeStamp||Date.now())-this.startTime;g=this.x;d=this.y;this._unbind(m);this._unbind(k);this._unbind(q);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,c);if(this.moved){if(300>o&&this.options.momentum){f=g?this._momentum(g-this.startX,o,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):f;i=d?this._momentum(d-this.startY,o,-this.y,0>this.maxScrollY?
this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?this.wrapperH:0):i;g=this.x+f.dist;d=this.y+i.dist;if(0<this.x&&0<g||this.x<this.maxScrollX&&g<this.maxScrollX)f={dist:0,time:0};if(0<this.y&&0<d||this.y<this.maxScrollY&&d<this.maxScrollY)i={dist:0,time:0}}f.dist||i.dist?(b=e.max(e.max(f.time,i.time),10),this.scrollTo(g>>0,d>>0,b)):this._resetPos(200)}else{if(a){for(g=b.target;1!=g.nodeType;)g=g.parentNode;"SELECT"!=g.tagName&&("INPUT"!=g.tagName&&"TEXTAREA"!=g.tagName)&&(d=document.createEvent("MouseEvents"),
d.initMouseEvent("click",!0,!0,c.view,1,b.screenX,b.screenY,b.clientX,b.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),d._fake=!0,g.dispatchEvent(d))}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,c)}},_resetPos:function(a){var c=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,b=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;c==this.x&&b==this.y?this.moved&&(this.options.onScrollEnd&&this.options.onScrollEnd.call(this),
this.moved=!1):this.scrollTo(c,b,a||0)},_mouseout:function(a){var c=a.relatedTarget;if(c)for(;c=c.parentNode;)if(c==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,c=a.x,b=a.y,g=Date.now(),d,f,i;a.animating||(a.steps.length?(d=a.steps.shift(),d.x==c&&d.y==b&&(d.time=0),a.animating=!0,a.moved=!0,a.options.useTransition)?(a._transitionTime(d.time),a._pos(d.x,d.y),a.animating=
!1,d.time?a._bind("webkitTransitionEnd"):a._resetPos(0)):(i=function(){var o=Date.now(),h;if(o>=g+d.time){a._pos(d.x,d.y);a.animating=false;a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a);a._startAni()}else{o=(o-g)/d.time-1;f=e.sqrt(1-o*o);o=(d.x-c)*f+c;h=(d.y-b)*f+b;a._pos(o,h);if(a.animating)a.aniTime=n(i)}},i()):a._resetPos(400))},_transitionTime:function(a){this.scroller.style[f+"TransitionDuration"]=a+"ms"},_momentum:function(a,c,b,g,d){var c=e.abs(a)/c,f=c*c/0.0012;0<a&&f>b?(b+=d/
(6/(6.0E-4*(f/c))),c=c*b/f,f=b):0>a&&f>g&&(g+=d/(6/(6.0E-4*(f/c))),c=c*g/f,f=g);return{dist:f*(0>a?-1:1),time:c/6.0E-4>>0}},_offset:function(a){for(var c=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)c-=a.offsetLeft,b-=a.offsetTop;return{left:c,top:b}},_bind:function(a,c,b){(c||this.scroller).addEventListener(a,this,!!b)},_unbind:function(a,c,b){(c||this.scroller).removeEventListener(a,this,!!b)},destroy:function(){this.scroller.style[f+"Transform"]="";this._unbind(l,window);this._unbind(j);this._unbind(m);
this._unbind(k);this._unbind(q);this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=
this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[f+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,c,b,g){var d=a;this.stop();d.length||(d=[{x:a,y:c,time:b,relative:g}]);a=0;for(c=d.length;a<c;a++)d[a].relative&&(d[a].x=this.x-d[a].x,d[a].y=this.y-d[a].y),this.steps.push({x:d[a].x,
y:d[a].y,time:d[a].time||0});this._startAni()},scrollToElement:function(a,c){var b;if(a=a.nodeType?a:this.scroller.querySelector(a))b=this._offset(a),b.left+=this.wrapperOffsetLeft,b.top+=this.wrapperOffsetTop,b.left=0<b.left?0:b.left<this.maxScrollX?this.maxScrollX:b.left,b.top=0<b.top?0:b.top<this.maxScrollY?this.maxScrollY:b.top,c=void 0===c?e.max(2*e.abs(b.left),2*e.abs(b.top)):c,this.scrollTo(b.left,b.top,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(m);this._unbind(k);
this._unbind(q)},enable:function(){this.enabled=!0},stop:function(){o(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=h:window.iScroll=h})();
var LZ77=function(e){var e=e||{},f=e.referenceIntBase||96,h=32+f-1,d=Math.pow(f,2)-1,b=e.minStringLength||5,i=Math.pow(f,1)-1+b,a=e.defaultWindowLength||144,c=d+b,g=function(a,c){if(0<=a&&a<Math.pow(f,c)-1){for(var b="";0<a;)b=String.fromCharCode(a%f+32)+b,a=Math.floor(a/f);for(var g=c-b.length,d=0;d<g;d++)b=String.fromCharCode(32)+b;return b}throw"Reference int out of range: "+a+" (width = "+c+")";},n=function(a,c){for(var b=0,g=0;g<c;g++){var b=b*f,d=a.charCodeAt(g);if(32<=d&&d<=h)b+=d-32;else throw"Invalid char code in reference int: "+
d;}return b};this.compress=function(e,f){f=f||a;if(f>c)throw"Window length too large";for(var h="",n=0,k=e.length-b;n<k;){for(var q=Math.max(n-f,0),p=b,t=!1,s=d,u=0,z=null;q+p<n;)e.substr(q,p)==e.substr(n,p)&&p<i?(p++,t=!0):(p-=1,t&&p>u&&(s=n-q-p,u=p),p=b,q++,t=!1);u?(z="`"+g(s,2)+g(u-b,1),n+=u):(z="`"!=e.charAt(n)?e.charAt(n):"``",n++);h+=z}return h+e.slice(n).replace(/`/g,"``")};this.decompress=function(a){for(var c="",g=0;g<a.length;){var d=a.charAt(g);if("`"!=d)c+=d,g++;else if("`"!=a.charAt(g+
1)){var d=n(a.substr(g+1,2),2),e;e=a.charAt(g+3);e=n(e,1)+b;c+=c.substr(c.length-d-e,e);g+=b-1}else c+="`",g+=2}return c}};
(function(e,f){var h=0;e.$=f.noConflict?f.noConflict():f;e.resolve=function(d,b){if(!d)return null;for(var d=d.split("."),e=window,a=window,c=-1,g;g=d[++c];){a=a[g];if(!a)if(b)a=e[g]={};else return null;e=a}return a};e.extend=function(d,b,f){function a(){}"object"==typeof d?(f=d,d=Object,b=function(){}):"object"==typeof b&&(f=b,b=d,d=Object);a.prototype=d.prototype;b.prototype=new a;b.prototype.constructor=b;if(f)for(var c in f)b.prototype[c]=f[c];b.extend=function(a,c){if(typeof a=="object"){c=a;
a=function(){b.apply(this,arguments)}}e.extend(b,a,c);return a};return b};e.log=function(){window.console?console.log.apply(console,arguments):alert([].join.call(arguments," "))};e.uuid=function(){return h++};e.delay=function(d,b,e){setTimeout(function(){d.call(b)},e||0)};e.clone=function(d,b){return d?d instanceof Array?d.slice(0):d instanceof Date?new Date(d.getTime()):"object"==typeof d?e.merge(b,{},d):d.valueOf():d};e.merge=function(d,b){var f=-1,a=[].slice.call(arguments,2),c,g;"object"==typeof d&&
(a.unshift(b),b=d,d=!1);for(;c=a[++f];)for(g in c)c.hasOwnProperty(g)&&(b[g]=d?e.clone(arg[g]):c[g]);return b};f.fn.dataAttrs=function(){for(var d={},b=this[0].attributes,e=-1,a;a=b[++e];)0==a.name.indexOf("data-")&&(d[a.name.slice(5)]=a.value);return d};f.proxy||(f.proxy=function(d,b){return function(){d.apply(b,arguments)}})})(window.Lavaca=window.Lavaca||{},window.jQuery||window.Zepto||window.jMiny);
(function(e){e.indexOf=function(e,h){if(e){if(e.indexOf)return e.indexOf(h);for(var d=0,b=e.length;d<b;d++)if(e[d]===h)return d}return-1};e.contains=function(f,h){return-1<e.indexOf(f,h)};e.remove=function(f,h){var d=e.indexOf(f,h);-1<d&&f.splice(d,1);return d};e.pushIfNotExists=function(f,h){var d=e.indexOf(f,h);-1==d&&(f[d=f.length]=h);return d}})(Lavaca.resolve("Lavaca.util.ArrayUtils",!0));
(function(e){function f(a){return parseInt(a,10)}function h(a,c){for(var a=a.toLowerCase(),g=-1,d;d=c[++g];)if(a==d.toLowerCase()||a==b(d).toLowerCase())return g-1;throw'Invalid code "'+d+'"';}function d(a,c,b){for(var d=0>a?"-":"",b=b||"0",a=Math.abs(a).toString();0<c-a.length;)a=b+a;return d+a}function b(a){Lavaca.util.Translation&&(result=Lavaca.util.Translation.get(a));return result?result:a}function i(a){for(var c=[],b="",d=-1,e,f;f=a.charAt(++d);)if(e=b.charAt(0),e==f||'"'==e||"'"==e){if(b+=
f,'"'==e&&'"'==f||"'"==e&&"'"==f)c.push(b),b=""}else b&&c.push(b),b=f;b&&c.push(b);return c}e.timeOfDayDesignatorAbbr=["A","P"];e.timeOfDayDesignator=["AM","PM"];e.daysOfWeekAbbr="Sun Mon Tue Wed Thu Fri Sat".split(" ");e.daysOfWeek="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");e.monthsAbbr="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");e.months="January February March April May June July August September October November December".split(" ");e.fn={d:{exp:"\\d{1,2}",
i:function(a,c){c.date=f(a)},o:function(a,c){return(c?a.getUTCDate():a.getDate()).toString()}},dd:{exp:"\\d{2}",i:function(a,c){c.date=f(a)},o:function(a,c){return d(e.fn.d.o(a,c),2)}},ddd:{exp:"[a-z]{3}",i:function(){},o:function(a,c){return b(e.daysOfWeekAbbr[c?a.getUTCDay():a.getDay()])}},dddd:{exp:"[a-z]+",i:function(){},o:function(a,c){return b(e.daysOfWeek[c?a.getUTCDay():a.getDay()])}},f:{exp:"\\d",i:function(a,c){c.ms=100*f(a)},o:function(a,c,b){b=b||100;return d(Math.floor((c?a.getUTCMilliseconds():
a.getMilliseconds())/b),3-b.toString().length)}},ff:{exp:"\\d{2}",i:function(a,c){c.ms=10*f(a)},o:function(a,c){return d(e.fn.f.o(a,c,10),2)}},fff:{exp:"\\d{3}",i:function(a,c){c.ms=f(a,10)},o:function(a,c){return d(e.fn.f.o(a,c,1),3)}},h:{exp:"1?\\d",i:function(a,c,b){a=f(a)-1;b=0==(b.t||b.tt||"A").indexOf("A")?0:12;c.hour=a+b},o:function(a,c){return((c?a.getUTCHours():a.getHours())%12+1).toString()}},hh:{exp:"[0-1]\\d",i:function(a,c,b){e.fn.h.i(a,c,b)},o:function(a,c){return d(e.fn.h.o(a,c),2)}},
H:{exp:"[0-2]?\\d",i:function(a,c){c.hour=f(a)},o:function(a,c){return(c?a.getUTCHours():a.getHours()).toString()}},HH:{exp:"[0-2]\\d",i:function(a,c){c.hour=f(a)},o:function(a,c){return d(e.fn.H.o(a,c),2)}},m:{exp:"[1-5]?\\d",i:function(a,c){c.minute=f(a)},o:function(a,c){return(c?a.getUTCMinutes():a.getMinutes()).toString()}},mm:{exp:"[0-5]\\d",i:function(a,c,b){e.fn.m.i(a,c,b)},o:function(a,c){return d(e.fn.m.o(a,c),2)}},M:{exp:"1?\\d",i:function(a,c){c.month=f(a)-1},o:function(a,c){return((c?
a.getUTCMonth():a.getMonth())+1).toString()}},MM:{exp:"[0-1]\\d",i:function(a,c,b){e.fn.M.i(a,c,b)},o:function(a,c){return d(e.fn.M.o(a,c),2)}},MMM:{exp:"[a-z]{3}",i:function(a,c){c.month=h(a,e.monthsAbbr)},o:function(a,c){return b(e.monthsAbbr[c?a.getUTCMonth():a.getMonth()])}},MMMM:{exp:"[a-z]+",i:function(a,c){c.month=h(a,e.months)},o:function(a,c){return b(e.months[c?a.getUTCMonth():a.getMonth()])}},s:{exp:"[1-5]?\\d",i:function(a,c){c.second=f(a)},o:function(a,c){return(c?a.getUTCSeconds():a.getSeconds()).toString()}},
ss:{exp:"[0-5]\\d",i:function(a,c,b){e.fn.s.i(a,c,b)},o:function(a,c){return d(e.fn.s.o(a,c),2)}},t:{exp:"[a-z]",i:function(){},o:function(a,c){return b(e.timeOfDayDesignatorAbbr[Math.floor((c?a.getUTCHours():a.getHours())/12)])}},tt:{exp:"[a-z]+",i:function(){},o:function(a,c){return b(e.timeOfDayDesignator[Math.floor((c?a.getUTCHours():a.getHours())/12)])}},y:{exp:"\\d?\\d",i:function(a,c){c.year=(new Date).getFullYear()%100+f(a)},o:function(a,c){return((c?a.getUTCFullYear():a.getFullYear())%100).toString()}},
yy:{exp:"\\d{2}",i:function(a,c,b){e.fn.y.i(a,c,b)},o:function(a,c){return d(e.fn.y.o(a,c),2)}},yyy:{exp:"\\d*\\d{3}",i:function(a,c){c.year=f(a)},o:function(a,c){return d(c?a.getUTCFullYear():a.getFullYear(),3)}},yyyy:{exp:"\\d*\\d{4}",i:function(a,c,b){e.fn.yyy.i(a,c,b)},o:function(a,c){return d(c?a.getUTCFullYear():a.getFullYear(),4)}},z:{exp:"[-+]?1?\\d",i:function(a,c){c.offset=60*f(a)},o:function(a,c){var b=a.getTimezoneOffset(),e=Math.floor(Math.abs(b/60));return(0>b?"-":"+")+d(e,c)}},zz:{exp:"[-+]?[0-1]\\d",
i:function(a,c,b){e.fn.z.i(a,c,b)},o:function(a){return e.fn.z.o(a,2)}},zzz:{exp:"[-+]?[0-1]\\d:\\d{2}",i:function(a,c){var b=a.split(":");c.offset=60*f(b[0])+f(b[1])},o:function(a){var a=a.getTimezoneOffset(),c=a%60;return(0>a?"-":"+")+d((a-c)/60,2)+":"+d(Math.abs(c),2)}}};e.parse=function(a,c){for(var b=i(c),f,h=["^"],l=-1,j;j=b[++l];)(f=e.fn[j])?h.push("(",f.exp,")"):h.push("(",j.replace(/(^")|(^')|('$)|("$)/g,"").replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),")");h.push("$");f=RegExp(h.join(""));
h={year:0,month:0,date:1,hour:0,minute:0,second:0,ms:0,offset:0};l={};j=-1;var m;if(f.test(a))for(f=f.exec(a);m=b[++j];)l[m]=f[j+1];for(m in l)(b=e.fn[m])&&b.i(l[m],h,l);return new Date(e.monthsAbbr[h.month]+" "+d(h.date,2)+" "+d(h.year,4)+" "+d(h.hour,2)+":"+d(h.minute,2)+":"+d(h.second,2)+(0<h.ms?"."+d(h.ms,3):"")+(0<=h.offset?"+":"-")+d(Math.floor(Math.abs(h.offset/60)),2)+d(Math.abs(h.offset%60),2))};e.stringify=function(a,c,b){for(var c=i(c),d=-1,f=[],h,j;h=c[++d];)(j=e.fn[h])?f.push(j.o(a,b)):
f.push(h.replace(/(^")|(^')|('$)|("$)/g,""));return f.join("")}})(Lavaca.resolve("Lavaca.util.DateUtils",!0));(function(e){function f(e){var d,b,i;for(d in e){if(e.hasOwnProperty(d)&&(b=e[d]))if("function"==typeof b.dispose)b.dispose();else if(b instanceof Array)for(i=b.length-1;-1<i;i--)f(b[i]);delete e[d]}}e.Disposable=Lavaca.extend({dispose:function(){f(this)}})})(Lavaca.resolve("Lavaca.util",!0));
(function(e,f){e.Cache=f.extend({get:function(e,d){var b=this["@"+e];void 0===b&&void 0!==d&&(b=this["@"+e]=d);return void 0===b?null:b},set:function(e,d){this["@"+e]=d},add:function(e){var d=Lavaca.uuid();this.set(d,e);return d},remove:function(e){delete this["@"+e]},each:function(e,d){for(var b in this)this.hasOwnProperty(b)&&0==b.indexOf("@")&&e.call(d||this,b.slice(1),this[b])},toObject:function(){var e={};this.each(function(d,b){e[d]=b});return e},toJSON:function(){return JSON.stringify(this.toObject())}})})(Lavaca.util,
Lavaca.util.Disposable);
(function(e,f,h){e.Map=h.extend(function(d,b,e){h.call(this);this.hasLoaded=!1;this.name=d;(d=b)&&0!=d.indexOf("http")&&(d="/"==d.charAt(0)?location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+(0==d.indexOf("/")?d:"/"+d):location.toString().split("#")[0].split("?")[0].replace(/\w+\.\w+$/,"")+d);this.src=d;this.code=e;this.cache=new Lavaca.util.Cache},{is:function(d){return this.name==d},get:function(d){this.hasLoaded||(this.code?this.add(this.code):this.src&&this.load(this.src),
this.hasLoaded=!0);return this.cache.get(d)},add:function(d){for(var b in d)this.cache.set(b,d[b])},process:function(d){this.add("string"==typeof d?JSON.parse(d):d)},load:function(d){var b=this;Lavaca.net.Connectivity.ajax({async:!1,url:d,success:function(d){b.process(d)}})}});e.Map.setDefault=function(d,b){var e=b;"string"==typeof e&&(e=d.get(b));d.set("default",e)};e.Map.get=function(d,b,e,a){e||(e=b,b=a);return b&&(d=d.get(b))?d.get(e):null};e.Map.init=function(d,b,i,a){f(a||document.documentElement).find('script[type="'+
b+'"]').each(function(){var a=f(this),b=a.attr("data-src"),h=a.attr("data-name"),o=null!==a.attr("data-default"),a=a.text(),b=i(h,b,a);d.set(b.name,b);o&&e.Map.setDefault(d,h)})};e.Map.dispose=function(d){d.dispose()}})(Lavaca.util,Lavaca.$,Lavaca.util.Disposable);
(function(e,f,h){function d(b,a,c){c&&(c=JSON.parse(c));return new e.Config(b,a,c)}var b=new e.Cache;e.Config=h.extend({});e.Config.setDefault=function(d){h.setDefault(b,d)};e.Config.get=function(d,a){return h.get(b,d,a,"default")};e.Config.init=function(e){h.init(b,"text/x-config",d,e)};e.Config.dispose=function(){h.dispose(b)}})(Lavaca.util,Lavaca.$,Lavaca.util.Map);
(function(e){e.Promise=Lavaca.extend(function(e){this.thisp=e;this.resolvedQueue=[];this.rejectedQueue=[]},{succeeded:!1,failed:!1,success:function(e){e&&(this.succeeded?e.apply(this.thisp,this.resolveArgs):this.resolvedQueue.push(e));return this},error:function(e){e&&(this.failed?e.apply(this.thisp,this.rejectArgs):this.rejectedQueue.push(e));return this},always:function(e){return this.then(e,e)},then:function(e,h){return this.success(e).error(h)},resolve:function(){if(!this.succeeded&&!this.failed){this.succeeded=
!0;this.resolveArgs=[].slice.call(arguments,0);for(var e=-1,h;h=this.resolvedQueue[++e];)h.apply(this.thisp,this.resolveArgs)}return this},reject:function(){if(!this.succeeded&&!this.failed){this.failed=!0;this.rejectArgs=[].slice.call(arguments,0);for(var e=-1,h;h=this.rejectedQueue[++e];)h.apply(this.thisp,this.rejectArgs)}return this},when:function(){for(var e=this,h=[],d=-1,b=arguments.length,i;i=arguments[++d];)(function(a){i.success(function(c){h[a]=c;1>--b&&e.resolve.apply(e,h)}).error(function(){e.reject.apply(e,
arguments)})})(d);i=null;return this},resolver:function(){var e=this;return function(){e.resolve.apply(e,arguments)}},rejector:function(){var e=this;return function(){e.reject.apply(e,arguments)}}});e.Promise.when=function(f){var h=f instanceof e.Promise,d=new e.Promise(h?window:f),h=[].slice.call(arguments,h?0:1);return d.when.apply(d,h)}})(Lavaca.resolve("Lavaca.util",!0));
(function(e,f){function h(b){return b}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};e.format=function(b){var d,a=h,c,g;arguments[1]instanceof Array?(d=arguments[1],a=arguments[2]||h):d=[].slice.call(arguments,1);c=0;for(g=d.length;c<g;c++)b=b.split("{"+c+"}").join(a(d[c]+""));return b};e.escapeHTML=function(b){var b=""+b,e;for(e in d)b=b.split(e).join(d[e]);return b};e.compress=function(b){"string"!=typeof b&&(b=JSON.stringify(b));return(new f).compress(b)};e.decompress=function(b){return(new f).decompress(b)}})(Lavaca.resolve("Lavaca.util.StringUtils",
!0),window.LZ77);
(function(e,f){function h(b,f,a){a&&(a=JSON.parse(a));b=new e.Translation(b,f,a);d.get(b.language)||d.set(b.language,b);return b}var d=new e.Cache;e.Translation=f.extend(function(b,d,a){f.apply(this,arguments);var c=b=b.toLowerCase().split("_");this.language=c[0];this.locale=(this.country=c[1]||"")?this.language+"_"+this.country:this.language},{is:function(b,d){return b==this.language&&(!d||!this.country||d==this.country)}});e.Translation.setDefault=function(b){d.remove("default");f.setDefault(d,
e.Translation.forLocale(b))};e.Translation.forLocale=function(b){b=(b||"default").toLowerCase();return d.get(b)||d.get(b.split("_")[0])||d.get("default")};e.Translation.get=function(b,d){d||(d=b,b="default");var a=e.Translation.forLocale(b),c=null;a&&(c=a.get(d));null===c&&(a=e.Translation.forLocale(b.split("_")[0]))&&(c=a.get(d));null===c&&(a=e.Translation.forLocale("default"))&&(c=a.get(d));return c};e.Translation.init=function(b,i){f.init(d,"text/x-translation",h,i);e.Translation.setDefault(b)};
e.Translation.dispose=function(){f.dispose(d)}})(Lavaca.util,Lavaca.util.Map);
(function(e,f){e.EventDispatcher=f.extend({suppressEvents:!1,on:function(e,d,b){var f=this.callbacks||(this.callbacks={}),e=f[e]||(f[e]=[]);e[e.length]={fn:d,thisp:b};return this},off:function(e,d,b){var f=this.callbacks,a,c=-1,g,n;if(e){if(f)if(d){if(a=f[e])for(f=f[e]=[];e=a[++c];)if(g=e.fn==d||e.fn.fn==d,n=b&&(e.thisp==b||e.fn.thisp==b),!g||g&&(!b||!n))f[f.length]=e}else delete f[e]}else delete this.callbacks;return this},trigger:function(e,d){if(!this.suppressEvents&&this.callbacks){var b=this.callbacks[e],
f=this.createEvent(e,d),a=-1,c;if(b)for(;c=b[++a];)c.fn.apply(c.thisp||this,[f])}return this},createEvent:function(e,d){return Lavaca.merge({},d||{},{type:e,target:d&&d.target?d.target:this,currentTarget:this})}})})(Lavaca.resolve("Lavaca.events",!0),Lavaca.util.Disposable);
(function(e){var f="screenX screenY clientX clientY pageX pageY".split(" ");e.EventPoint=Lavaca.extend(function(e){this.init(e)},{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,init:function(e){for(var d=-1,b;b=f[++d];)this[b]=e?e[b]:null}})})(Lavaca.resolve("Lavaca.events",!0));(function(e){e.EventVector=Lavaca.extend(function(e,h,d){this.length=e;this.axis=h;this.compass=d},{length:0,axis:"vertical",compass:"north"})})(Lavaca.resolve("Lavaca.events",!0));
(function(e,f,h,d){function b(a,c){s[a]=function(a){c(a)}}function i(a,c){u[a]=function(a){c(a)}}function a(a,c){a.touches&&(a=a.touches[c||0]);return new d(a)}function c(a,c){for(var b={},g=-1,e;e=p[++g];)b[e]=a[e]-c[e];return new d(b)}function g(a,c){return Math.sqrt((a.screenX-c.screenX)*(a.screenX-c.screenX)+(a.screenY-c.screenY)*(a.screenY-c.screenY))}function n(a,c){var b=a.screenX-c.screenX,g=a.screenY-c.screenY;return b*b>g*g?new h(Math.abs(b),"horizontal",0<b?"east":"west"):new h(Math.abs(g),
"vertical",0<g?"south":"north")}function o(a,c){var b=-1,g;if(null!==a&&c.changedTouches){for(;g=c.changedTouches[++b];)if(g.identifier===a)return g;return null}return c}function l(a){a.preventDefault()}function j(a){if(a){for(var c in a)"function"!=typeof a[c]&&(this[c]=a[c]);this.originalEvent=a}}var m="mousedown",k="mousemove",q="mouseup",p="screenX screenY clientX clientY pageX pageY".split(" "),t=!1,s={},u={};(function(){var a=document.createElement("div");a.setAttribute("ontouchstart","return;");
a.setAttribute("ongesturestart","return;");if(t="function"==typeof a.ontouchstart)m="touchstart",k="touchmove",q="touchend"})();(function(){f(document.body).on(k,function(a){for(var c in s)s[c](a)}).on(q,function(a){for(var c in u)u[c](a)})})();j.prototype={preventDefault:function(){this.defaultPrevented=!0;this.originalEvent&&this.originalEvent.preventDefault()},stopPropagation:function(){this.originalEvent&&this.originalEvent.stopPropagation()}};e.moveThreshold=4;e.tapholdDuration=800;e.isSupported=
function(){return t};e.bind=function(d,f,h,l,k,q){function p(a){var b=new j(a);if(a&&(b.startTime=t,b.elapsed=(new Date).getTime()-t,b.startPoint=r,b.lastPoint=H,b.currentPoint=y,b.hasMoved=K||(K=!(g(r,y)<=e.moveThreshold)),r&&y&&(b.startDelta=c(y,r),b.startDistance=g(y,r),b.startVector=n(y,r)),y&&H))b.lastDelta=c(y,H),b.lastDistance=g(y,H),b.lastVector=n(y,H);return b}"function"==typeof f&&(f={start:f,move:h,end:l},q=k);f&&"object"==typeof f&&(q=h,h=f,f=null);h&&"object"==typeof h&&(l=h.move,k=h.end,
h=h.start,q=l);var t,r,H,y,K=!1,C=!1,v;d.on("click",f,function(a){C&&a.preventDefault()}).on(m,f,function(c){var c=c.originalEvent,g=this,d=Lavaca.uuid();t=(new Date).getTime();r=H=y=a(c);K=false;c.changedTouches&&c.changedTouches.length?v=c.changedTouches[0].identifier:idenfifier=null;h&&h.call(q||g,p(c));C=C||c.defaultPrevented;b(d,function(c){var b=o(v,c);if(null!==b){y=a(b);if(l){c=p(c);c.currentTarget=g;l.call(q||g,c);C=C||c.defaultPrevented}H=y}});i(d,function(c){var b=o(v,c);if(null!==b){y=
a(b);if(k){c=p(c);c.currentTarget=g;k.call(q||g,c);C=C||c.defaultPrevented}delete s[d];delete u[d];g=null}})});d=null};f.fn.touch=function(a,c,b,g,d){e.bind(this,a,c,b,g,d);return this};f.fn.tap=function(a,c,b){"function"==typeof a&&(b=c,c=a,a=null);if(t)e.bind(this,a,l,null,function(a){!a.hasMoved&&c&&c.apply(b||this,arguments)});else this.on("click",a,function(){c.apply(b||this,arguments)});return this};f.fn.taphold=function(a,c,b,g){"function"==typeof a&&(g=b,b=c,c=a,a=null);b=b||e.tapholdDuration;
this.tap(a,function(a){a.elapsed>=b&&c&&c.apply(this,arguments)},g);return this};f.fn.swipe=function(a,c,b,g){"function"==typeof a&&(b=c,c=a,a=null);var b=b||{},d=b.minDistance||30,f=b.maxDistance||Number.MAX_VALUE,i=b.direction||"horizontal",h=b.timeLimit||1E3,o=b.cancel||null,n=b.move||null,l=b.end||null;e.bind(this,a,b.start||null,function(a){a.elapsed<=h&&n&&n.apply(g||this,arguments)},function(a){l&&l.apply(g||this,arguments);a.elapsed<=h&&(i==a.startVector.compass||i==a.startVector.axis)&&a.startVector.length>=
d&&a.startVector.length<=f?c&&c.apply(g||this,arguments):o&&o.apply(g||this,arguments)});return this}})(Lavaca.resolve("Lavaca.events.Touch",!0),Lavaca.$,Lavaca.events.EventVector,Lavaca.events.EventPoint);
(function(e,f){var h=!1,d=[];e.isCordova=function(){return!!f};e.register=function(b,e){function a(){window.plugins||(window.plugins={});window.plugins[b]=new e}h?a():d.push(a)};e.exec=function(b,d,a){var c=new Lavaca.util.Promise(window);f?f.exec(c.resolver(),c.rejector(),b,d,a):c.reject();return c};e.init=function(b){if(document.addEventListener)document.addEventListener("deviceready",b,!1);else $(document).on("deviceready",b)};$(document).ready(function(){for(var b=-1,e;e=d[++b];)e();h=!0;f||(document.createEvent?
(b=document.createEvent("Events"),b.initEvent("deviceready",!0,!1),document.dispatchEvent(b)):document.fireEvent&&(b=document.createEventObject(),b.eventType="deviceready",document.fireEvent("ondeviceready",b)))})})(Lavaca.resolve("Lavaca.env.Device",!0),window.Cordova||window.cordova);
(function(e,f){e.Badge=Lavaca.events.EventDispatcher.extend({get:function(){return f.exec("Badge","get")},set:function(e){var d=this;return f.exec("Badge","set",[e]).success(function(b){d.trigger("change",{count:b})})},increment:function(e){var e=e||1,d=this,b=new Lavaca.util.Promise;this.get().success(function(f){d.set(f+e).success(b.resolver()).error(b.rejector())}).error(b.rejector());return b},decrement:function(e){return self.increment(-(e||1))},clear:function(){return this.set(0)}});f.register("badge",
e.Badge)})(Lavaca.env,Lavaca.env.Device);(function(e,f){e.ChildBrowser=Lavaca.events.EventDispatcher.extend({showWebPage:function(e){return f.exec("ChildBrowser","showWebPage",[e]).error(function(){window.location.href=e})},close:function(){return f.exec("ChildBrowser","close",[])}});f.register("childBrowser",e.ChildBrowser)})(Lavaca.env,Lavaca.env.Device);
(function(e,f,h){function d(d,a,c,g,e){c===b&&(c=a,a="");g||(g=[]);var g=[].concat(g),f=-1,h=g.length,c=[c,function(a){d=="confirm"&&(a===b||a===h||h===0&&a==2)?e.reject((h||2)-1):e.resolve(a-1)},a],j=[];for("confirm"==d&&g.push(g.shift());a=g[++f];)if(j.push(a.name),a.exec)e["confirm"==d&&f==g.length-1?"error":"success"](function(a,c){return function(g){g===b&&(g=h);g==a&&c(a)}}(f,a.exec));c.push(j.join(","));navigator.notification[d].apply(navigator.notification,c)}var b;e.Notification=Lavaca.events.EventDispatcher.extend({alert:function(b,
a,c){var g=new h;f.isCordova()?d("alert",b,a,c,g):window.alert?((button=(c||[])[0])&&button.exec&&g.then(button.exec),alert(a||b),g.resolve(0)):g.reject();return g},confirm:function(b,a,c){var g=new h;f.isCordova()?d("confirm",b,a,c,g):window.confirm?(c&&g.success((c[1]||{}).exec).error((c[0]||{}).exec),confirm(a)?g.resolve(1):g.reject(0)):g.reject();return g}});f.register("notification",e.Notification)})(Lavaca.env,Lavaca.env.Device,Lavaca.util.Promise);
(function(e,f){var h={animation:["animation","animationend","keyframes"],webkitAnimation:["-webkit-animation","webkitAnimationEnd","-webkit-keyframes"],MozAnimation:["-moz-animation","animationend","-moz-keyframes"],OAnimation:["-o-animation","oAnimationEnd","-o-keyframes"],MSAnimation:["-ms-animation","MSAnimationEnd","-ms-keyframes"]},d,b,i,a;(function(){var c=document.createElement("div").style,g;for(g in h)if(g in c){c=h[g];d=g;b=c[0];a=c[1];i=c[2];break}})();e.isSupported=function(){return!!d};
e.keyframesToCSS=function(a,b){var d=Lavaca.fx.Transform,e=["@",i," ",a,"{"],f,h,m,k;for(f in b){e.push(f,"{");h=b[f];if("string"==typeof h)e.push(h);else for(m in h)k=h[m],"transform"==m&&d&&(m=d.cssProperty(),k=d.toCSS(k)),e.push(m,":",k,";");e.push("}")}e.push("}");return e.join("")};e.generateKeyframes=function(a,b){"object"==typeof a&&(b=a,a="a"+(new Date).getTime());var d=e.keyframesToCSS(a,b);f("<style>"+d+"</style>").appendTo("head");return a};e.cssProperty=function(){return b};f.fn.keyframe=
function(a,b,d,f,i,h,m){e.isSupported()&&("object"==typeof a&&(a=e.generateKeyframes(a)),"object"==typeof b&&(m=b.complete,h=b.direction,i=b.iterations,f=b.delay,d=b.easing,b=b.duration),h=h||"normal",i=i||1,f=f||0,d=d||"linear",b=b||1,"number"==typeof b&&(b+="ms"),"number"==typeof f&&(f+="ms"),m&&this.nextAnimationEnd(m),this.css(e.cssProperty(),[a,b,d,f,i,h].join(" ")));return this};f.fn.animationEnd=function(c,b){return a?this.on(a,c,b):this};f.fn.nextAnimationEnd=function(b,g){return a?this.one(a,
b,g):this}})(Lavaca.resolve("Lavaca.fx.Animation",!0),Lavaca.$);
(function(e,f){function h(a,b){var d=0==a.indexOf("rotate"),e="scale"==a,f=0==a.indexOf("translate");/(X|Y|Z)$/.test(a);var i,h=[];if("object"==typeof b)for(i in b)h.push(a+i.toUpperCase()+"("+(f?"number"==typeof b[i]?b[i]+"px":b[i]:d?"number"==typeof b[i]?b[i]+"deg":b[i]:e?"number"==typeof b[i]?b[i]+","+b[i]:b[i]:b[i])+")");else e?b="number"==typeof b?b+","+b:b:d?b="number"==typeof b?b+"deg":b:f&&(b="number"==typeof b?b+"px":b),h.push(a+"("+b+")");return h.join(" ")}var d={transform:"transform",
webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",MSTransform:"-ms-transform"},b,i,a=!1;(function(){var c=document.createElement("div").style,e;for(e in d)if(e in c){b=e;i=d[e];c[e]="translate3d(0,0,0)";a=-1<c[e].indexOf("translate3d")&&-1==navigator.userAgent.indexOf("Android");break}})();e.isSupported=function(){return!!b};e.is3dSupported=function(){return a};e.toCSS=function(a){var b=[],d;if("object"==typeof a)for(d in a)b.push(h(d,a[d]));else b.push(a);
return b.join(" ")};e.cssProperty=function(){return i};f.fn.transform=function(a,d){e.isSupported()&&(a=e.toCSS(a),d&&"object"==typeof d&&(d=("number"==typeof d.x?100*d.x+"%":d.x)+(void 0===d.y?"":" "+("number"==typeof d.y?100*d.y+"%":d.y))),this.each(function(){this.style[b]=a;d&&(this.style[b+"Origin"]=d)}));return this}})(Lavaca.resolve("Lavaca.fx.Transform",!0),Lavaca.$);
(function(e,f){var h={transition:["transition","transitionend"],webkitTransition:["-webkit-transition","webkitTransitionEnd"],MozTransition:["-moz-transition","MozTransitionEnd"],OTransition:["-o-transition","OTransitionEnd"],MSTransition:["-ms-transition","MSTransitionEnd"]},d,b,i;(function(){var a=document.createElement("div").style,c;for(c in h)if(c in a){d=c;b=h[c][0];i=h[c][1];break}})();e.isSupported=function(){return!!d};e.toCSS=function(a,b,d){var d=d||"linear",e=[],f=a instanceof Array,i;
for(i in a)f&&(i=a[i]),e.push(i+" "+b+"ms "+d);return e.join(",")};e.cssProperty=function(){return b};f.fn.transition=function(a,b,g,f){if(e.isSupported()){g instanceof Function&&(f=g,g=null);var i=e.toCSS(a,b,g);f&&this.nextTransitionEnd(f);this.each(function(){this.style[d]=i});this.css(a)}else this.css(a),f&&f.call(this[0],{});return this};f.fn.transitionEnd=function(a,b){return i?this.on(i,a,b):this};f.fn.nextTransitionEnd=function(a,b){return i?this.one(i,a,b):this}})(Lavaca.resolve("Lavaca.fx.Transition",
!0),Lavaca.$);
(function(e,f,h,d){e.Controller=f.extend(function(b,d){b instanceof e.Controller?(this.router=b.router,this.viewManager=b.viewManager):(this.router=b,this.viewManager=d)},{router:null,viewManager:null,exec:function(b,d,a){this.params=d;this.state=a;var c=new h(this),e;a&&(e=a.state,c.success(function(){document.title=a.title}));b=this[b](d,e);b instanceof h?c.when(b):c.resolve();return c},ajax:function(b){return h.when(this,Lavaca.net.Connectivity.ajax(b))},view:function(b,d,a,c){return h.when(this,this.viewManager.load(b,
d,a,c))},ajaxThenView:function(b,d,a,c,e){var f=new h(this),o=this;this.ajax(b).success(function(b){f.when(this.view(a,c,d.apply(o,arguments),e))}).error(function(){f.reject.apply(f,arguments)});return f},history:function(b,d,a){var c=!this.state;return function(){c&&Lavaca.net.History.push(b,d,a)}},translate:function(b,e){var a=Lavaca.util.Translation.get(b);a&&e&&(a=d.format.apply(null,[a].concat(e)));return a},url:function(b,e){return d.format(b,e,encodeURIComponent)},redirect:function(b,d){return this.router.unlock().exec(this.url(b,
d||[]))},ajaxThenRedirect:function(b,d){var a=new h(this),c=this;this.ajax(b).success(function(b){a.when(this.redirect(d.apply(c,arguments)))}).error(function(){a.reject.apply(a,arguments)});return a},dispose:function(){this.router=this.viewManager=null;f.prototype.dispose.apply(this,arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable,Lavaca.util.Promise,Lavaca.util.StringUtils,Lavaca.$);
(function(e,f,h,d,b){function i(a,b,d,e,f,i){a.trigger(b,{attribute:d,previous:e===c?null:e,value:f===c?a.get(d):f,messages:i||[]})}function a(a,b,c){for(var b=!!b,d=["suppressValidation","suppressEvents","suppressTracking"],e={},f=-1,i;i=d[++f];)e[i]=a[i],a[i]=b||a[i];b=c.call(a);for(f=-1;i=d[++f];)a[i]=e[i];return b}var c;e.Model=f.extend(function(a){f.call(this);this.attributes=new h;this.rules=new h;this.unsavedAttributes=[];this.flags={};a&&(this.suppressEvents=this.suppressTracking=!0,this.apply(a),
this.suppressEvents=this.suppressTracking=!1)},{suppressValidation:!1,suppressTracking:!1,get:function(a){return this.attributes.get(a)},canSet:function(){return!0},set:function(c,d,e,f){return a(this,f,function(){if(!this.canSet(c))return!1;var a=this.attributes.get(c),f=this.suppressValidation?[]:this.validate(c,d);if(f.length)return i(this,"invalid",c,a,d,f),!1;a!==d&&(this.attributes.set(c,d),e&&((f=this.flags[e])||(f=this.flags[e]=[]),b.contains(f,c)||f.push(c)),i(this,"change",c,a,d),!this.suppressTracking&&
!Lavaca.util.ArrayUtils.contains(this.unsavedAttributes,c)&&this.unsavedAttributes.push(c));return!0})},has:function(a){return null!==this.get(a)},idAttribute:"id",id:function(){return this.get(this.idAttribute)},isNew:function(){return null===this.id()},parse:function(a){"string"==typeof a&&(a=JSON.parse(a));return a},apply:function(b,c){a(this,c,function(){b=this.parse(b);for(var a in b)this.set(a,b[a])})},clear:function(a){if(a){var a=this.flags[a],c=-1,d,e;if(a)for(;d=a[++c];)b.remove(this.unsavedAttributes,
d),(e=this.get(d))&&e.dispose&&e.dispose(),this.set(d,null)}else this.attributes.dispose(),this.attributes=new h,this.unsavedAttributes.length=0},clone:function(){return new this.constructor(this.attributes.toObject())},addRule:function(a,b,c){this.rules.get(a,[]).push({rule:b,message:c})},validate:function(a,b){var d,e,f=-1,i;if(a){if(d=[],b=b===c?this.get(a,b):b,e=this.rules.get(a))for(;i=e[++f];)i.rule(a,b)||d.push(i.message)}else d={},this.rules.each(function(){d[a]=this.validate(a)},this);return d},
onFetchSuccess:function(a){a=this.parse(a);this.apply(a,!0);this.trigger("fetchSuccess",{response:a})},onFetchError:function(a){this.trigger("fetchError",{response:a})},fetch:function(a,b){b=Lavaca.clone(b||{});b.url=a;return d.when(this,Lavaca.net.Connectivity.ajax(b)).success(this.onFetchSuccess).error(this.onFetchError)},save:function(a,b){for(var e=new d(this),f=this.toObject(),i={},h=-1,k;k=this.unsavedAttributes[++h];)i[k]=f[k];e.success(function(a){var b=this.idAttribute;this.isNew()&&a[b]!==
c&&this.set(b,a[b]);this.unsavedAttributes=[];this.trigger("saveSuccess",{response:a})}).error(function(a){this.trigger("saveError",{response:a})});f=a.call(b||this,this,i,f);f instanceof d?e.when(f):f?e.resolve(f):e.reject(f);return e},saveToServer:function(a){return this.save(function(b,c,e){b=this.id();this.isNew()?c=e:c[this.idAttribute]=b;return d.when(this,Lavaca.net.Connectivity.ajax({url:a,cache:!1,type:"POST",data:c,dataType:"json"}))})},toObject:function(){return this.attributes.toObject()},
toJSON:function(){return JSON.stringify(this.toObject())},on:function(a,b,c,d){function e(a){if(!b||a.attribute==b)c.call(d||this,a)}"function"==typeof b&&(d=c,c=b,b=null);e.fn=c;e.thisp=d;return f.prototype.on.call(this,a,e,d)}});e.Model.SENSITIVE="sensitive"})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.events.EventDispatcher,Lavaca.util.Cache,Lavaca.util.Promise,Lavaca.util.ArrayUtils);
(function(e,f,h,d,b){function i(a,b,d,e,f){a.trigger(b,{previousIndex:d,index:e,model:f})}e.Collection=f.extend(function(a,b){f.call(this,b);this.models=[];this.changedOrder=!1;this.addedItems=[];this.removedItems=[];this.changedItems=[];a&&(this.suppressEvents=!0,this.add.apply(this,a),this.suppressEvents=!1)},{TModel:e.Model,itemsProperty:"items",clear:function(){f.prototype.clear.apply(this,arguments);for(var a=-1,b;b=this.models[++a];)this.remove(b);this.changedOrder=!1;this.addedItems.length=
this.removedItems.length=this.changedItems.length=this.models.length=0},prepare:function(a){a=a instanceof this.TModel?a:this.TModel.prototype instanceof e.Collection?new this.TModel(a[this.TModel.prototype.itemsProperty],a):new this.TModel(a);if(-1==b.indexOf(this.models,a))a.on("change",this.onItemEvent,this).on("invalid",this.onItemEvent,this).on("saveSuccess",this.onItemEvent,this).on("saveError",this.onItemEvent,this);return a},canSet:function(a){return a!=this.itemsProperty},add:function(){var a=
!1,c,d,e,f,h;c=0;for(d=arguments.length;c<d;c++)if(e=arguments[c],f=e instanceof this.TModel,e=this.prepare(e),h=b.indexOf(this.models,e),!f||!b.contains(this.models,e))this.models.push(e),this.suppressTracking||(b.remove(this.removedItems,e),b.remove(this.changedItems,e),b.pushIfNotExists(this.addedItems,e)),i(this,"addItem",null,h,e),a=!0;return a},moveTo:function(a,c){a instanceof this.TModel&&(a=b.indexOf(this.models,a));if(-1<a){var d=this.models.splice(a,1)[0];d&&(this.models.splice(c,0,d),
this.suppressTracking||(this.changedOrder=!0),i(this,"moveItem",a,c,d))}},remove:function(a){if(a instanceof this.TModel){var c=b.remove(this.models,a);return-1<c?(this.suppressTracking||(b.remove(this.addedItems,a),b.remove(this.changedItems,a),b.pushIfNotExists(this.removedItems,a)),a.off("change",this.onItemEvent).off("invalid",this.onItemEvent).off("saveSuccess",this.onItemEvent).off("saveError",this.onItemEvent),i(this,"removeItem",c,null,a),!0):!1}for(var c=this.filter(a),d=-1,e=!1;a=c[++d];)e=
this.remove(a)||e;return e},filter:function(a,b){var b=void 0===b?Number.MAX_VALUE:b,d=[],e=-1,f,i,h;"function"!=typeof a&&(i=a,a=function(a,b){for(h in i)if(b.get(h)!=i[h])return!1;return!0});for(;(f=this.models[++e])&&(!a(e,f)||!(d.push(f),1>--b)););return d},first:function(a){return this.filter(a,1)[0]||null},itemAt:function(a){return this.models[a]},count:function(){return this.models.length},each:function(a,b){for(var d=-1,e;e=this.itemAt(++d);)a.call(b||this,d,e)},onItemEvent:function(a){var c=
a.target,d=b.indexOf(this.models,c);"change"==a.type?b.pushIfNotExists(this.changedItems,c):"saveSuccess"==a.type&&b.remove(this.changedItems,c);this.trigger(a.type+"Item",Lavaca.merge({},a,{target:c,model:c,index:d,previousIndex:null}))},onFetchSuccess:function(a){var b=a=this.parse(a);b instanceof Array||(this.apply(a),b=a[this.itemsProperty]);this.add.apply(this,b);this.trigger("fetchSuccess",{response:a})},saveToServer:function(a){return this.save(function(b,e,f){b=this.id();this.isNew()?e=f:
e[this.idAttribute]=b;return(new d(this)).when(Lavaca.net.Connectivity.ajax({url:a,cache:!1,type:"POST",data:e,dataType:"json"}))})},toObject:function(a){for(var b=f.prototype.toObject.apply(this,arguments),d=this.itemsProperty,e=b[d]=[],i=-1,h;h=this.models[++i];)e[b[d].length]=a&&!h.isNew()?h.id():h.toObject();return b}})})(Lavaca.mvc,Lavaca.mvc.Model,Lavaca.util.Cache,Lavaca.util.Promise,Lavaca.util.ArrayUtils);
(function(e,f){function h(d){d=decodeURIComponent(d);isNaN(d)?"true"==d.toLowerCase()?d=!0:"false"==d.toLowerCase()?d=!1:/^\d{4}-[0-1]\d-[0-3]\d$/g.test(d)&&(d=d.split("-"),d=new Date(Number(d[0]),Number(d[1])-1,Number(d[2]))):d=Number(d);return d}e.Route=f.extend(function(d,b,e,a){f.call(this);this.pattern=d;this.TController=b;this.action=e;this.params=a||{}},{matches:function(d){var b;b=this.pattern;if("/"==b)b=/^\/(\?.*)?(#.*)?$/;else{"/"==b.charAt(0)&&(b=b.slice(1));b=b.split("/");for(var e="^",
a=-1,c;c=b[++a];)e=/\{\*(.*?)\}/g.test(c)?e+"(/([^/?#]+))*?":/\{([^\/]*?)\}/g.test(c)?e+"/([^/?#]+)":e+("/"+c);b=RegExp(e+"(\\?.*)?(#.*)?$","g")}return b.test(d)},parse:function(d){var b=Lavaca.clone(this.params),e=this.pattern.slice(1),a=d.split("#"),c,f,n;b.url=d;b.route=this;a=a[1]?a[1].split("?"):a[0].split("?");if(c=a[1]){d=-1;for(c=c.split("&");f=c[++d];)f=f.split("="),n=decodeURIComponent(f[0]),void 0!==b[n]?(b[n]instanceof Array||(b[n]=[b[n]]),b[n].push(h(f[1]))):b[n]=h(f[1])}d=0;a=a[0].replace(/(^(http(s?)\:\/\/[^\/]+)?\/?)|(\/$)/,
"");f=RegExp(e.replace(/\{\*(.*?)\}/g,"(.+)").replace(/\{([^\/]*?)\}/g,"([^/]+)"));a=f.exec(a);for(c=f.exec(e);f=a[++d];)e=c[d],/\{\*(.*?)\}/g.test(e)&&(f=f.split("/")),b[e.replace(/[\{\}\*]/g,"")]=f;return b},exec:function(d,b,e,a,c){function f(){Lavaca.delay(h.dispose,h)}var h=new this.TController(b,e),d=this.parse(d),a=h.exec(this.action,Lavaca.merge(d,c),a);a.then(f,f);return a}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable);
(function(e,f,h){e.Router=f.extend(function(d){f.call(this);this.routes=[];this.viewManager=d;this.onpopstate=function(b){this.hasNavigated&&this.exec(b.url,b)};Lavaca.net.History.on("popstate",this.onpopstate,this)},{locked:!1,hasNavigated:!1,add:function(d,b,f,a){if("object"==typeof d)for(var c in d)a=d[c],a instanceof Array?(b=a[0],f=a[1],a=a[2]):(b=a.controller,f=a.action,a=a.params),this.add(c,b,f,a);else this.routes.push(new e.Route(d,b,f,a));return this},exec:function(d,b,e){if(this.locked)return(new h(this)).reject("locked");
this.locked=!0;d||(d="/");0==d.indexOf("http")&&(d=d.replace(/^http(s?):\/\/.+?/,""));var a=-1,c,f=new h(this);f.always(function(){this.unlock()});for(this.hasNavigated||f.success(function(){this.hasNavigated=!0});c=this.routes[++a];)if(c.matches(d))return f.when(c.exec(d,this,this.viewManager,b,e));return f.reject(d,b)},unlock:function(){this.locked=!1;return this},dispose:function(){this.onpopstate&&(Lavaca.net.History.off("popstate",this.onpopstate),this.onpopstate=null);f.prototype.dispose.apply(this,
arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util.Disposable,Lavaca.util.Promise);
(function(e,f,h,d){e.View=h.extend(function(b,d,a,c){h.call(this);this.model=b||null;this.layer=d||0;this.eventMap=a||{};this.widgetMap=c||{};this.widgets=new Lavaca.util.Cache;this.on("rendersuccess",this.onRenderSuccess).on("rendererror",this.onRenderError)},{el:null,shell:null,template:null,className:null,wrapper:function(){return f('<div class="view"></div>')},interior:function(){return f('<div class="view-interior"></div>')},render:function(){var b=new d(this),f=Lavaca.ui.Template.get(this.template),
a=this.model;a instanceof e.Model&&(a=a.toObject());this.el&&this.el.remove();this.shell=this.wrapper();this.el=this.interior();this.shell.append(this.el);this.shell.attr("data-layer-index",this.layer);this.className&&this.shell.addClass(this.className);b.success(function(a){this.trigger("rendersuccess",{html:a})}).error(function(a){this.trigger("rendererror",{err:a})});this.shell.addClass("tmpl-"+this.template.toLowerCase().replace(/\s/g,"-"));f.render(a).success(b.resolver()).error(b.rejector());
return b},clearModelEvents:function(){var b,d;if(this.eventMap&&this.eventMap.model&&this.model&&this.model instanceof h)for(b in this.eventMap.model)d=this.eventMap.model[b],"object"==typeof d&&(d=d.on),this.model.off(b,d,this)},applyEvents:function(){var b=this.el,d,a,c,e,f;for(c in this.eventMap)for(e in d=this.eventMap[c],d)if(a=d[e],"object"==typeof a?(f=a,a=a.on):f=void 0,"model"==c){if(this.model&&this.model instanceof h)this.model.on(e,a,this)}else if("tap"==e&&b.tap)b.tap(c,a);else if("taphold"==
e&&b.taphold)b.taphold(c,a,f?f.duration:void 0);else if("swipe"==e&&b.swipe)b.swipe(c,a,f);else if("animationEnd"==e&&b.animationEnd)b.animationEnd(c,a);else if("transitionEnd"==e&&b.transitionEnd)b.transitionEnd(c,a);else b.on(e,c,a)},mapEvent:function(b,d,a){var c;if("object"==typeof b)for(b in c=b,c)for(d in c[b])this.mapEvent(b,d,c[b][d]);else(c=this.eventMap[b])||(c=this.eventMap[b]={}),c[d]=a;return this},createWidgets:function(){var b=this.widgets,d,a,c;for(a in this.widgetMap)c=this.widgetMap[a],
("self"==a?this.el:this.el.find(a)).each(function(a,e){d=new c(f(e));b.set(d.id,d)})},mapWidget:function(b,d){if("object"==typeof b){var a=b;for(b in a)this.mapWidget(b,a[b])}else this.widgetMap[b]=d;return this},insertInto:function(b){if(!this.shell.parent()[0]!=b[0]){for(var d=b.children("[data-layer-index]"),a=-1,c;c=d[++a];)if(c=f(c),c.attr("data-layer-index")>this.index){this.shell.insertBefore(c);return}b.append(this.shell)}},enter:function(b){var e=new d(this),a,b=f(b);this.hasRendered||(a=
this.render().error(e.rejector()));this.insertInto(b);a?e.when(a):Lavaca.delay(e.resolver());e.then(function(){this.trigger("enter")});return e},exit:function(){var b=new d(this);this.shell.remove();Lavaca.delay(b.resolver());b.then(function(){this.trigger("exit")});return b},onRenderSuccess:function(b){this.el.html(b.html);this.applyEvents(this.el);this.createWidgets(this.el);this.hasRendered=!0},onRenderError:function(b){Lavaca.log(b.err)},dispose:function(){this.model&&this.clearModelEvents();
this.template=this.model=null;h.prototype.dispose.apply(this,arguments)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.$,Lavaca.events.EventDispatcher,Lavaca.util.Promise);
(function(e,f,h,d,b,i){e.ViewManager=b.extend(function(a){b.call(this);this.el=h(a||document.body);this.views=new f.Cache;this.layers=[];this.exitingViews=[];this.enteringViews=[]},{locked:!1,load:function(a,b,e,f){function h(){i.enteringViews=[j];m.success(function(){Lavaca.delay(function(){i.enteringViews=[]})});p=i.dismissLayersAbove(f-1,j);i.layers[f]!=j?(k.when(j.enter(i.el,i.exitingViews),p).then(m.resolve),i.layers[f]=j):m.when(p)}if(this.locked)return(new d(this)).reject("locked");this.locked=
!0;var f=f||0,i=this,j=this.views.get(a),m=new d(this),k=new d(m),q=null,p=null;m.always(function(){this.locked=!1});j||(j=new b(e,f),q=j.render(),null!==a&&(this.views.set(a,j),j.cacheKey=a));q?q.then(h,m.rejector()):h();return m},dismiss:function(a){if("number"==typeof a)this.dismissLayersAbove(a-1);else if(a instanceof Lavaca.mvc.View)this.dismiss(a.layer);else{var a=h(a),b=a.attr("data-layer-index");null===b&&(a=a.closest("[data-layer-index]"),b=a.attr("data-layer-index"));null!==b&&this.dismiss(Number(b))}},
dismissLayersAbove:function(a,b){var e=new d(this),f=!1,h,l;for(h=this.layers.length-1;h>a;h--)if((l=this.layers[h])&&(!b||b!=l))(function(a){this.exitingViews.push(a);e.when(a.exit(this.el,this.enteringViews)).success(function(){Lavaca.delay(function(){i.remove(this.exitingViews,a);(!a.cacheKey||b&&b.cacheKey==a.cacheKey)&&a.dispose()},this)});this.layers[h]=null}).call(this,l),f=!0;f||e.resolve();return e},flush:function(){for(var a=-1,b;b=this.layers[++a];)b.cacheKey&&this.views.remove(b.cacheKey);
this.views.dispose();this.views=new f.Cache},dispose:function(){b.prototype.dispose.call(this)}})})(Lavaca.resolve("Lavaca.mvc",!0),Lavaca.util,Lavaca.$,Lavaca.util.Promise,Lavaca.util.Disposable,Lavaca.util.ArrayUtils);
(function(e,f,h){function d(b){b.preventDefault();b.stopPropagation()}e.Application=f.extend(function(b){Lavaca.env.Device.init(h.proxy(this.init,this));h(window).on("unload",h.proxy(this.dispose,this));if(b)this.on("init",b)},{TViewManager:Lavaca.mvc.ViewManager,TRouter:Lavaca.mvc.Router,TState:Lavaca.mvc.Model,animations:-1==navigator.userAgent.indexOf("Android"),initRoute:"/",initState:null,initParams:null,initLocale:"en_US",viewRootSelector:"#view-root",onInvalidRoute:function(b){"locked"!=b&&
plugins.notification.alert("An error occurred while trying to display this URL.")},onTapLink:function(b){var d=h(b.currentTarget),a=d.attr("href"),c=d.attr("rel");if(/^((mailto)|(tel)|(sms))\:/.test(a))return location.href=a,!0;b.preventDefault();"back"==c?Lavaca.net.History.back():"nofollow"==c?(b.stopPropagation(),plugins.childBrowser.showWebPage(a)):"cancel"==c?this.viewManager.dismiss(b.currentTarget):a&&this.router.exec(a,null,d.dataAttrs()).error(this.onInvalidRoute)},ajax:function(){return Lavaca.net.Connectivity.ajax.apply(Lavaca.net.Connectivity,
arguments)},init:function(){var b=new Lavaca.util.Promise(this);this.state=new this.TState;Lavaca.util.Config.init();this.state.set("lang",localStorage.getItem("app:lang")||this.initLocale);Lavaca.util.Translation.init(app.state.get("lang"));Lavaca.ui.Template.init();this.viewManager=new this.TViewManager(this.viewRootSelector);this.router=new this.TRouter(this.viewManager);h(document.body).tap("a",this.onTapLink,this).tap(".ui-blocker",d);this.trigger("init");this.router.hasNavigated?b.resolve():
(b.when(this.router.exec(this.initRoute,this.initState,this.initParams)),this.initState&&Lavaca.net.History.replace(this.initState.state,this.initState.title,this.initState.url));return b.then(function(){this.trigger("ready")})},dispose:function(){this.trigger("dispose");Lavaca.util.Config.dispose();Lavaca.util.Translation.dispose();Lavaca.ui.Template.dispose();f.prototype.dispose.call(this)}})})(Lavaca.mvc,Lavaca.events.EventDispatcher,Lavaca.$);
(function(e,f){function h(){throw"Not implemented";}e.Store=f.extend(function(d){this.id=d},{get:function(){h()},set:function(){h()},remove:function(){h()},all:function(){h()}})})(Lavaca.resolve("Lavaca.storage",!0),Lavaca.util.Disposable);
(function(e,f,h){function d(b){localStorage.setItem(b.id+"@manifest",JSON.stringify(b.manifest))}e.LocalStore=e.Store.extend(function(b){e.Store.call(this,b);this.manifest=JSON.parse(localStorage.getItem(this.id+"@manifest")||"[]")},{key:function(b){return this.id+":"+b},get:function(b){return(b=localStorage.getItem(this.key(b)))?JSON.parse(f.decompress(b)):null},set:function(b,e){localStorage.setItem(this.key(b),f.compress(JSON.stringify(e)));h.pushIfNotExists(this.manifest,b);d(this)},remove:function(b){localStorage.removeItem(this.key(b));
h.remove(this.manifest,b);d(this)},all:function(){for(var b=[],d=-1,a;a=this.manifest[++d];)b.push(this.get(a));return b}})})(Lavaca.resolve("Lavaca.storage"),Lavaca.util.StringUtils,Lavaca.util.ArrayUtils);
(function(e,f){function h(a){if(a==i)for(var c=-1,d;d=b[++c];)d(a)}var d="boolean"==typeof navigator.onLine,b=[],i="offline";navigator.userAgent.indexOf("Android");e.isOffline=function(){var a=Lavaca.resolve("navigator.network.connection.type");return null!==a?a==Lavaca.resolve("Connection.NONE"):d?!navigator.onLine:!1};e.ajax=function(a){var b=new Lavaca.util.Promise,d=a.success,n=a.error;a.success=function(){d&&d.apply(this,arguments);b.resolve.apply(b,arguments)};a.error=function(){n&&n.apply(this,
arguments);b.reject.apply(b,arguments)};e.isOffline()?b.reject(i):f.ajax(a);b.error(h);return b};e.registerOfflineAjaxHandler=function(a){b.push(a)}})(Lavaca.resolve("Lavaca.net.Connectivity",!0),Lavaca.$);
(function(e,f,h){function d(b,c,d,e,f,g){b.position=c;e={id:d,state:e,title:f,url:g};b.sequence[c]=e;location.hash=a=g+"#@"+d;return e}var b=!(-1<navigator.userAgent.indexOf("Android"))&&"function"==typeof h.pushState,i=!1,a,c,g=0;e.History=f.extend(function(){f.call(this);this.sequence=[];this.position=-1;this.replace({},document.title,location.pathname);var c=this;b?(this.onPopState=function(a){a.state&&(g--,c.trigger("popstate",{state:a.state.state,title:a.state.title,url:a.state.url}))},window.addEventListener("popstate",
this.onPopState,!1)):(this.onPopState=function(){var b=location.hash,d,e,f=-1;b&&(b=b.replace(/^#/,""));if(b!=a&&(a=b)){g--;for(b=b.split("#@")[1];e=c.sequence[++f];)if(e.id==b){d=e;this.position=f;break}d&&(location.hash=d.url+"#@"+d.id,document.title=d.title,c.trigger("popstate",{state:d.state,title:d.title,url:d.url}))}},window.attachEvent?window.attachEvent("onhashchange",this.onPopState):window.addEventListener("hashchange",this.onPopState,!1))},{current:function(){return this.sequence[this.position]||
null},hasHistory:function(){return 0<g},push:function(a,c,e){g++;i?(document.title=c,b?h.pushState({state:a,title:c,url:e},c,e):d(this,++this.position,Lavaca.uuid(),a,c,e)):this.replace(a,c,e)},replace:function(a,c,e){i=!0;document.title=c;if(b)h.replaceState({state:a,title:c,url:e},c,e);else{0>this.position&&(this.position=0);var f=this.current()||{id:Lavaca.uuid()};d(this,this.position,f.id,a,c,e)}},dispose:function(){this.onPopState&&(b?window.removeEventListener("popstate",this.onPopState,!1):
window.detachEvent?window.detachEvent("onhashchange",this.onPopState):window.removeEventListener("hashchange",this.onPopState,!1));f.prototype.dispose.call(this)}});e.History.init=function(a){c||(a&&e.History.overrideStandardsMode(),c=new e.History);return c};e.History.push=function(){e.History.init().push.apply(c,arguments)};e.History.replace=function(){e.History.init().replace.apply(c,arguments)};e.History.back=function(){h.back()};e.History.forward=function(){h.forward()};e.History.dispose=function(){_history&&
(c.dispose(),c=null)};e.History.on=function(){return e.History.init().on.apply(c,arguments)};e.History.off=function(){return e.History.init().off.apply(c,arguments)};e.History.overrideStandardsMode=function(){b=!1}})(Lavaca.resolve("Lavaca.net",!0),Lavaca.events.EventDispatcher,window.history);
(function(e,f,h){var d=new Lavaca.util.Cache,b=[];e.Template=h.extend({compile:function(){},render:function(){throw"Abstract";},process:function(b){this.code=b}});e.Template.get=function(b){return d.get(b)};e.Template.init=function(e){for(var a=-1,c;c=b[++a];)h.init(d,c.mime,function(a,b,d){return new c.js(a,b,d)},e)};e.Template.dispose=function(){h.dispose(d)};e.Template.render=function(b,a){var c=e.Template.get(b);if(c)return c.render(a);throw'No template named "'+b+'"';};e.Template.register=function(d,
a){b[b.length]={mime:d,js:a}}})(Lavaca.resolve("Lavaca.ui",!0),Lavaca.$,Lavaca.util.Map);
(function(e,f,h,d){e.DustTemplate=h.extend(function(b,d,a){h.apply(this,arguments);var c=this.prepareHelper(),e;for(e in c)f.helpers[e]=c[e]},{prepareHelper:function(){return{msg:this.helperMsg,include:this.helperInclude}},helperMsg:function(b,e,a){for(var c=b.tail,f=c.renderBody("block",b,e,a),h=c.params[h],f=[d.get(f,h)||""],h=-1,o;o=c.params["p"+ ++h];)f.push(o.render(b,e,a));return Lavaca.util.StringUtils.format.apply(this,f)},helperInclude:function(b,d,a){var b=b.tail.params.name.render(b,d,
a),c;h.render(b,a).then(function(a){c=a});return c},compile:function(){h.prototype.compile.call(this);f.compile(this.code,this.name)},render:function(b){var d=new Lavaca.util.Promise(this);!this.code&&this.src&&this.load(this.src);this.code&&!this.compiled&&(this.compile(),this.compiled=!0);f.render(this.name,b,function(a,b){a?d.reject(a):d.resolve(b)});return d},dispose:function(){delete f.templates[this.name];h.prototype.dispose.call(this)}});e.Template.register("text/x-dust-template",e.DustTemplate)})(Lavaca.ui,
xdust,Lavaca.ui.Template,Lavaca.util.Translation);(function(e,f,h){e.Widget=h.extend(function(d){h.call(this);this.el=d=f(d);var b=d.attr("id");b||(b="widget-"+Lavaca.uuid(),d.attr("id",b));this.id=b})})(Lavaca.resolve("Lavaca.ui",!0),Lavaca.$,Lavaca.events.EventDispatcher);
(function(e,f,h,d){function b(a){return a?null:"error_required"}function i(a,b){return a&&!RegExp(b.attr("pattern")).test(a)?"error_pattern":null}function a(a){return a&&!/^\w+@\w+(\.\w+)*\.\w+$/.test(a)?"error_email":null}function c(a){return a&&!/^\d?(\d{3})?\d{7}$/.test(a.replace(/\D/g,""))?"error_email":null}function g(a){return a&&!/^\d+(\.\d+)?$/.test(a)?"error_number":null}function n(a){return a&&!/^https?:\/\/\w+(\.\w+)*\.\w(:\d+)?\/\S+$/.test(a)?"error_url":null}e.Form=h.extend(function(){h.apply(this,
arguments);var a=this;this.pendingSync={};this._onChangeInput=function(b){a.onChangeInput(b)};this._onSubmit=function(b){a.onSubmit(b)};this.el.on("submit",this._onSubmit);this.addRule(this.defaultRules())},{onSubmit:function(a){a.preventDefault();this.validate().success(this.onSubmitSuccess).error(this.onSubmitError)},onSubmitSuccess:function(){},onSubmitError:function(){},onChangeInput:function(a){if(this.model){var b=f(a.target),a=b.attr("name"),b=b.val();this.pendingSync[a]=!0;this.model.set(a,
b);this.pendingSync[a]=!1}},onChangeModel:function(a){this.pendingSync[a.attribute]||this.set(a.attribute,a.value)},bind:function(a){this.unbind();this.model=a;a.on("change",this.onChangeModel,this);this.el.on("change",this._onChangeInput)},unbind:function(){this.model&&(this.el.off("change",this._onChangeInput),this.model.off("change",this.onchangeModel,this),this.model=null)},input:function(a){return this.el.find("input, select, textarea").filter('[name="'+a+'"]')},get:function(a){return this.input(a).val()},
set:function(a,b){this.input(a).val(b||null)},defaultRules:function(){return{"[required]":b,"[pattern]":i,"[type=email]":a,"[type=tel]":c,"[type=number]":g,"[type=url]":n}},addRule:function(a,b){this.rules||(this.rules=[]);if("object"==typeof a)for(var c in a)this.addRule(c,a[c]);else this.rules.push({selector:a,callback:b})},values:function(){for(var a=this.el.find("input, select, textarea"),b={},c=-1,d,e,g;d=a[++c];)if(d=f(d),e=d.attr("type"),!("radio"==e||"checkbox"==e)||d[0].checked)e=d.attr("name"),
g=b[e],d=d.val(),g instanceof Array?g.push(d):b[e]=void 0!==g?[g,d]:d;return b},validate:function(a,b,c){a&&"function"!=typeof a&&(c=a,a=null);c&&(c=f(c));for(var e=null,g=new d(this),h=-1,i,n,s,u,z,A,B,E,J;n=this.rules[++h];){s=c?c.filter(n.selector):this.el.find(n.selector);for(i=-1;u=s[++i];)if(u=f(u),J=u.val(),z=n.callback.call(this,J,u,this))A=u.attr("name"),e||(e={}),e[A]||(E=u.attr("id"),B=null,E&&(B=this.el.find('label[for="'+E+'"]').text()),e[A]={id:E,name:A,label:B,el:u,value:J,messages:[]}),
e[A].messages.push(z)}e?g.reject(e):g.resolve(this.values());return g.error(function(a){this.trigger("invalid",{inputs:a})}).success(function(a){this.trigger("valid",a)}).success(a).error(b)},dispose:function(){this.unbind();h.prototype.dispose.call(this)}});e.Form.withSubmit=function(a,b){return e.Form.extend({onSubmitSuccess:function(b){a.call(this,b)},onSubmitError:function(a){b.call(this,a)}})}})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget,Lavaca.util.Promise);
(function(e,f,h){e.LoadingIndicator=h.extend({className:"loading",show:function(){this.el.addClass(this.className)},hide:function(){this.el.removeClass(this.className)}});e.LoadingIndicator.init=function(d){function b(){h.hide()}var d=d||e.LoadingIndicator,h=new d(document.body);f(document).on("ajaxStart",function(){h.show()}).on("ajaxStop",b).on("ajaxError",b);return h}})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget);
(function(e,f,h,d){var b=["overflowScrolling","webkitOverflowScrolling","MozOverflowScrolling","OOverflowScrolling","MSOverflowScrolling"],i;(function(){for(var a=document.createElement("div").style,c=-1,d;d=b[++c];)if(d in a){i=d;break}})();e.Scrollable=h.extend(function(){h.apply(this,arguments);this.iScrollOptions||(this.iScrollOptions={});this.supportsOverflow?this.initOverflowScroll():(this.className="synthetic-scroll",this.initIScroll())},{supportsOverflow:!!i,className:"overflow-scroll",iScrollOptions:null,
wrapper:function(){return f('<div class="scroll-wrapper"></div>')},initOverflowScroll:function(){this.el.addClass(this.className);this.preventParentScroll()},initIScroll:function(){var a=this.wrapper(),b={},e,h;for(e in this.iScrollOptions)h=this.iScrollOptions[e],"function"==typeof h&&(h=f.proxy(h,this)),b[e]=h;h=b.onBeforeScrollStart;b.onBeforeScrollStart=function(a){var b=(a.explicitOriginalTarget||a.target).nodeName;"SELECT"!=b&&("OPTION"!=b&&"INPUT"!=b&&"TEXTAREA"!=b&&"LABEL"!=b)&&a.preventDefault();
h&&h.apply(this,arguments)};this.el.addClass(this.className);a.append(this.el.children());this.el.append(a);this.iScroll=new d(this.el[0],b);this.refresh()},refresh:function(){this.supportsOverflow||Lavaca.delay(function(){this.iScroll.refresh()},this,10)},preventParentScroll:function(){var a=this.el[0];this.el.on("touchstart",function(){startTopScroll=a.scrollTop;0>=startTopScroll&&(a.scrollTop=1);startTopScroll+a.offsetHeight>=a.scrollHeight&&(a.scrollTop=a.scrollHeight-a.offsetHeight-1)})},dispose:function(){this.isScroll&&
this.iScroll.destroy();h.prototype.dispose.call(this)}})})(Lavaca.ui,Lavaca.$,Lavaca.ui.Widget,iScroll);
